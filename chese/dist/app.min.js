/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/ai.js":
/*!******************!*\
  !*** ./js/ai.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\r\nvar AI = AI||{};\r\nwindow.AI=AI;\r\n\r\nAI.historyTable\t=\t{};\t\t//历史表\r\n\r\n\r\n//人工智能初始化\r\nAI.init = function(pace){\r\n\tvar bill = AI.historyBill || com.gambit; //开局库\r\n\tif (bill.length){\r\n\t\tvar len=pace.length;\r\n\t\tvar arr=[];\r\n\t\t//先搜索棋谱\r\n\t\tfor (var i=0;i< bill.length;i++){\r\n\t\t\tif (bill[i].slice(0,len)==pace) {\r\n\t\t\tarr.push(bill[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (arr.length){\r\n\t\t\tvar inx=Math.floor( Math.random() * arr.length );\r\n\t\t\tAI.historyBill = arr ;\r\n\t\t\treturn arr[inx].slice(len,len+4).split(\"\");\r\n\t\t}else{\r\n\t\t\tAI.historyBill = [] ;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t //如果棋谱里面没有，人工智能开始运作\r\n\tvar initTime = new Date().getTime();\r\n\tAI.treeDepth=play.depth;\r\n\t//AI.treeDepth=4;\r\n\t\r\n\tAI.number=0;\r\n\tAI.setHistoryTable.lenght = 0\r\n\r\n\tvar val=AI.getAlphaBeta(-99999 ,99999, AI.treeDepth, com.arr2Clone(play.map),play.my);\r\n\t//var val = AI.iterativeSearch(com.arr2Clone(play.map),play.my)\r\n\tif (!val||val.value==-8888) {\r\n\t\tAI.treeDepth=2;\r\n\t\tval=AI.getAlphaBeta(-99999 ,99999, AI.treeDepth, com.arr2Clone(play.map),play.my);\r\n\t}\r\n\t//var val = AI.iterativeSearch(com.arr2Clone(play.map),play.my);\r\n\tif (val&&val.value!=-8888) {\r\n\t\tvar man = play.mans[val.key];\r\n\t\tvar nowTime= new Date().getTime();\r\n\t\t// com.get(\"moveInfo\").innerHTML='<h3>AI搜索结果：</h3>最佳着法：'+\r\n\t\t// \t\t\t\t\t\t\t\tcom.createMove(com.arr2Clone(play.map),man.x,man.y,val.x,val.y)+\r\n\t\t// \t\t\t\t\t\t\t\t'<br />搜索深度：'+AI.treeDepth+'<br />搜索分支：'+\r\n\t\t// \t\t\t\t\t\t\t\tAI.number+'个 <br />最佳着法评估：'+\r\n\t\t// \t\t\t\t\t\t\t\tval.value+'分'+\r\n\t\t// \t\t\t\t\t\t\t\t' <br />搜索用时：'+\r\n\t\t// \t\t\t\t\t\t\t\t(nowTime-initTime)+'毫秒'\r\n\t\treturn [man.x,man.y,val.x,val.y]\r\n\t}else {\r\n\t\treturn false;\t\r\n\t}\r\n}\r\n\r\n//迭代加深搜索着法\r\nAI.iterativeSearch = function (map, my){\r\n\tvar timeOut=100;\r\n\tvar initDepth = 1;\r\n\tvar maxDepth = 8;\r\n\tAI.treeDepth=0;\r\n\tvar initTime = new Date().getTime();\r\n\tvar val = {};\r\n\tfor (var i=initDepth; i<=maxDepth; i++){\r\n\t\tvar nowTime= new Date().getTime();\r\n\t\tAI.treeDepth=i;\r\n\t\tAI.aotuDepth=i;\r\n\t\tvar val = AI.getAlphaBeta(-99999, 99999, AI.treeDepth , map ,my)\r\n\t\tif (nowTime-initTime > timeOut){\r\n\t\t\treturn val;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n//取得棋盘上所有棋子\r\nAI.getMapAllMan = function (map, my){\r\n\tvar mans=[];\r\n\tfor (var i=0; i<map.length; i++){\r\n\t\tfor (var n=0; n<map[i].length; n++){\r\n\t\t\tvar key = map[i][n];\r\n\t\t\tif (key && play.mans[key].my == my){\r\n\t\t\t\tplay.mans[key].x = n;\r\n\t\t\t\tplay.mans[key].y = i;\r\n\t\t\t\tmans.push(play.mans[key])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn mans;\r\n}\r\n\r\n/*\r\n//取得棋谱所有己方棋子的着法\r\nAI.getMoves = function (map, my, txtMap){\r\n\tvar highMores = [];   //优先级高的着法\r\n\tvar manArr = AI.getMapAllMan (map, my);\r\n\tvar moves = [];\r\n\tvar history=AI.historyTable[txtMap];\r\n\tfor (var i=0; i<manArr.length; i++){\r\n\t\tvar man = manArr[i];\r\n\t\tvar val=man.bl(map);\r\n\t\tfor (var n=0; n<val.length; n++){\r\n\t\t\tif (history){\r\n\t\t\t\thighMores.push([man.x,man.y,val[n][0],val[n][1],man.key])\r\n\t\t\t}else{\r\n\t\t\t\tmoves.push([man.x,man.y,val[n][0],val[n][1],man.key])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn highMores.concat(moves);\r\n}\r\n*/\r\n//取得棋谱所有己方棋子的着法\r\nAI.getMoves = function (map, my){\r\n\tvar manArr = AI.getMapAllMan (map, my);\r\n\tvar moves = [];\r\n\tvar foul=play.isFoul;\r\n\tfor (var i=0; i<manArr.length; i++){\r\n\t\tvar man = manArr[i];\r\n\t\tvar val=man.bl(map);\r\n\t\t\r\n\t\tfor (var n=0; n<val.length; n++){\r\n\t\t\tvar x=man.x;\r\n\t\t\tvar y=man.y;\r\n\t\t\tvar newX=val[n][0];\r\n\t\t\tvar newY=val[n][1];\r\n\t\t\t //如果不是长将着法\r\n\t\t\tif (foul[0]!=x || foul[1]!=y || foul[2]!=newX || foul[3]!=newY ){\r\n\t\t\t\tmoves.push([x,y,newX,newY,man.key])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn moves;\r\n}\r\n//A:当前棋手value/B:对手value/depth：层级\r\nAI.getAlphaBeta = function (A, B, depth, map ,my) { \r\n\t//var txtMap= map.join();\r\n\t//var history=AI.historyTable[txtMap];\r\n\t//\tif (history && history.depth >= AI.treeDepth-depth+1){\r\n\t//\t\treturn \thistory.value*my;\r\n\t//}\r\n\tif (depth == 0) {\r\n\t\treturn {\"value\":AI.evaluate(map , my)}; //局面评价函数; \r\n　\t}\r\n　\tvar moves = AI.getMoves(map , my ); //生成全部走法; \r\n　\t//这里排序以后会增加效率\r\n\r\n\tfor (var i=0; i < moves.length; i++) {\r\n\t\t\r\n\t\t\r\n　　\t//走这个走法;\r\n\t\tvar move= moves[i];\r\n\t\tvar key = move[4];\r\n\t\tvar oldX= move[0];\r\n\t\tvar oldY= move[1];\r\n\t\tvar newX= move[2];\r\n\t\tvar newY= move[3];\r\n\t\tvar clearKey = map[ newY ][ newX ]||\"\";\r\n\r\n\t\tmap[ newY ][ newX ] = key;\r\n\t\tdelete map[ oldY ][ oldX ];\r\n\t\tplay.mans[key].x = newX;\r\n\t\tplay.mans[key].y = newY;\r\n\t\t\r\n\t　　if (clearKey==\"j0\"||clearKey==\"J0\") {//被吃老将,撤消这个走法; \r\n\t\t\tplay.mans[key]\t.x = oldX;\r\n\t\t\tplay.mans[key]\t.y = oldY;\r\n\t\t\tmap[ oldY ][ oldX ] = key;\r\n\t\t\tdelete map[ newY ][ newX ];\r\n\t\t\tif (clearKey){\r\n\t\t\t\t map[ newY ][ newX ] = clearKey;\r\n\t\t\t\t// play.mans[ clearKey ].isShow = false;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\"key\":key,\"x\":newX,\"y\":newY,\"value\":8888};\r\n\t\t\t//return rootKey; \r\n\t　　}else { \r\n\t　　\tvar val = -AI.getAlphaBeta(-B, -A, depth - 1, map , -my).value; \r\n\t\t\t//val = val || val.value;\r\n\t\r\n\t　　\t//撤消这个走法;　 \r\n\t\t\tplay.mans[key]\t.x = oldX;\r\n\t\t\tplay.mans[key]\t.y = oldY;\r\n\t\t\tmap[ oldY ][ oldX ] = key;\r\n\t\t\tdelete map[ newY ][ newX ];\r\n\t\t\tif (clearKey){\r\n\t\t\t\t map[ newY ][ newX ] = clearKey;\r\n\t\t\t\t //play.mans[ clearKey ].isShow = true;\r\n\t\t\t}\r\n\t　　\tif (val >= B) { \r\n\t\t\t\t//将这个走法记录到历史表中; \r\n\t\t\t\t//AI.setHistoryTable(txtMap,AI.treeDepth-depth+1,B,my);\r\n\t\t\t\treturn {\"key\":key,\"x\":newX,\"y\":newY,\"value\":B}; \r\n\t\t\t} \r\n\t\t\tif (val > A) { \r\n\t　　　　\tA = val; //设置最佳走法; \r\n\t\t\t\tif (AI.treeDepth == depth) var rootKey={\"key\":key,\"x\":newX,\"y\":newY,\"value\":A};\r\n\t\t\t} \r\n\t\t} \r\n　\t} \r\n\t//将这个走法记录到历史表中; \r\n\t//AI.setHistoryTable(txtMap,AI.treeDepth-depth+1,A,my);\r\n\tif (AI.treeDepth == depth) {//已经递归回根了\r\n\t\tif (!rootKey){\r\n\t\t\t//AI没有最佳走法，说明AI被将死了，返回false\r\n\t\t\treturn false;\r\n\t\t}else{\r\n\t\t\t//这个就是最佳走法;\r\n\t\t\treturn rootKey;\r\n\t\t}\r\n\t}\r\n　return {\"key\":key,\"x\":newX,\"y\":newY,\"value\":A}; \r\n}\r\n\r\n//奖着法记录到历史表\r\nAI.setHistoryTable = function (txtMap,depth,value,my){\r\n\tAI.setHistoryTable.lenght ++;\r\n\tAI.historyTable[txtMap] = {depth:depth,value:value} \r\n}\r\n\r\n//评估棋局 取得棋盘双方棋子价值差\r\nAI.evaluate = function (map,my){\r\n\tvar val=0;\r\n\tfor (var i=0; i<map.length; i++){\r\n\t\tfor (var n=0; n<map[i].length; n++){\r\n\t\t\tvar key = map[i][n];\r\n\t\t\tif (key){\r\n\t\t\t\tval += play.mans[key].value[i][n] * play.mans[key].my;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//val+=Math.floor( Math.random() * 10);  //让AI走棋增加随机元素\r\n\t//com.show()\r\n\t//z(val*my)\r\n\tAI.number++;\r\n\treturn val*my;\r\n}\r\n\r\n//评估棋局 取得棋盘双方棋子价值差\r\nAI.evaluate1 = function (map,my){\r\n\tvar val=0;\r\n\tfor (var i in play.mans){\r\n\t\tvar man=play.mans[i];\r\n\t\tif (man.isShow){\r\n\t\t\tval += man.value[man.y][man.x] * man.my;\r\n\t\t}\r\n\t}\r\n\t//val+=Math.floor( Math.random() * 10);  //让AI走棋增加随机元素\r\n\t//com.show()\r\n\t//z(val*my)\r\n\tAI.number++;\r\n\treturn val*my;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./js/ai.js?");

/***/ }),

/***/ "./js/app.js":
/*!*******************!*\
  !*** ./js/app.js ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("//base\r\n__webpack_require__(/*! ./common */ \"./js/common.js\") \r\n__webpack_require__(/*! ./play */ \"./js/play.js\") \r\n__webpack_require__(/*! ./ai */ \"./js/ai.js\") \r\n__webpack_require__(/*! ./bill */ \"./js/bill.js\") \r\n__webpack_require__(/*! ./gambit */ \"./js/gambit.js\") \r\n\r\n\r\nvar nebPay=__webpack_require__(/*! nebpay */ \"./node_modules/nebpay/lib/nebPay.js\")\r\nconst _pay=new nebPay();\r\n\r\nconst appAddress='n1m7FFcVrBZAbWn4bjvGFtC9gx5QbNxWghX'\r\nconst price=0.00000001;\r\nconst goodid='chese-0'\r\n\r\nconst pay=(nick,cb)=>{\r\n  _pay.call(appAddress,price,'payed',goodid,{\r\n    listener:rs=>{\r\n      if(rs&&rs.txhash){\r\n        alert('支付成功 开始愉快的玩耍把')\r\n\r\n        cb&&cb();\r\n      }\r\n      else if(rs&& rs.execute_err=='contract check failed'){\r\n        alert('合约检测失败，请检查浏览器钱包环境')\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nlet randomKeys='0123456789abcdefghijklmnopqrstuvwxyz'\r\nconst getRandom=(n)=>{\r\n  for(var i=0,len=randomKeys.length,rs='';i<n;i++){\r\n    rs +=randomKeys[Math.floor(Math.random()*len)];\r\n  }\r\n  return rs;\r\n}\r\n\r\nconst init=()=>{\r\n  \r\n  let nick=localStorage.getItem('nickName');\r\n  if(!nick){\r\n    nick=Date.now()+'-'+getRandom(6)\r\n    localStorage.setItem('nickName',nick)\r\n  }\r\n\r\n  let payed=localStorage.getItem('payed');\r\n  let playedTimes= +(localStorage.getItem('playdTimes')||0);\r\n\r\n  if(payed){\r\n    initUi()\r\n  }\r\n  else{\r\n    if(playedTimes<1){\r\n      initUi();\r\n    }\r\n    pay(nick,()=>{\r\n      localStorage.setItem('payed',1);\r\n\r\n      initUi();\r\n    })\r\n  }\r\n  \r\n}\r\n\r\nconst initUi=()=>{\r\n  com.initUI(()=>{\r\n    let playedTimes= +(localStorage.getItem('playdTimes')||0);\r\n    playedTimes ++;\r\n    localStorage.getItem('playdTimes',playedTimes);\r\n\r\n    init();\r\n  });\r\n}\r\n\r\nsetTimeout(init,300);\r\n\n\n//# sourceURL=webpack:///./js/app.js?");

/***/ }),

/***/ "./js/bill.js":
/*!********************!*\
  !*** ./js/bill.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\r\nvar bill = bill || {};\r\nwindow.bill=bill\r\n\r\n//初始化\r\nbill.init = function (){\r\n\tif (com.store){\r\n\t\tclearInterval(bill.timer);\r\n\t\tbill.setBillList(com.arr2Clone(com.initMap)); //写入棋谱列表\r\n\t\tplay.isPlay=false;\t\r\n\t\tcom.show();\r\n\t}else {\r\n\t\tbill.timer = setInterval(\"bill.init()\",300);\t\r\n\t}\r\n}\r\n\r\n\r\n//把所有棋谱写入棋谱列表\r\nbill.setBillList = function (map){\r\n\tvar list=com.get(\"billList\")\r\n\tfor (var i=0; i < com.store.length ; i++){\r\n\t\tvar option = document.createElement('option');\r\n\t\t option.text='棋谱'+(i+1);\r\n\t\t option.value=i;\r\n\t\tlist.add(option , null);\r\n\t}\r\n\t\r\n\tlist.addEventListener(\"change\", function(e) {\r\n\t\tbill.setBox (com.store[this.value], map)\r\n\t})\r\n\tbill.setBox (com.store[0], map)\r\n}\r\n\r\n\r\n//棋谱分析 写入\r\nbill.setMove = function (bl,inx,map){\r\n\tvar map = com.arr2Clone(map);\r\n\tfor (var i=0; i<map.length; i++){\r\n\t\tfor (var n=0; n<map[i].length; n++){\r\n\t\t\tvar key = map[i][n];\r\n\t\t\tif (key){\r\n\t\t\t\tcom.mans[key].x=n;\r\n\t\t\t\tcom.mans[key].y=i;\r\n\t\t\t\tcom.mans[key].isShow = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var i=0; i<= inx ; i++){\r\n\t\tvar n = i*4\r\n\t\tvar y = bl[n+1]\r\n\t\tvar newX = bl[n+2]\r\n\t\tvar x = bl[n+0]\r\n\t\tvar newY = bl[n+3]\r\n\t\tif (com.mans[map[newY][newX]]) {\r\n\t\t\tcom.mans[map[newY][newX]].isShow = false;\r\n\t\t}\r\n\t\t\r\n\t\tcom.mans[map[y][x]].x = newX;\r\n\t\tcom.mans[map[y][x]].y = newY;\r\n\t\t\r\n\t\tif (i == inx) {\r\n\t\t\tcom.showPane(x ,y,newX,newY);\r\n\t\t}\r\n\t\tmap[newY][newX] = map[y][x];\r\n\t\tdelete map[y][x];\r\n\t\t\r\n\t}\r\n\treturn map;\r\n}\r\n\r\n//写入棋谱\r\nbill.setBox = function (bl,initMap){\r\n\tvar map = com.arr2Clone(initMap);\r\n\tvar bl= bl.split(\"\");\r\n\tvar h='';\r\n\tfor (var i=0; i< bl.length ; i+=4){\r\n\t\th +='<li id=\"move_'+(i/4)+'\">';\r\n\t\tvar x = bl[i+0];\r\n\t\tvar y = bl[i+1];\r\n\t\tvar newX = bl[i+2];\r\n\t\tvar newY = bl[i+3];\r\n\t\th += com.createMove(map,x,y,newX,newY);\r\n\t\th +='</li>\\n\\r';\r\n\t}\r\n\tcom.get(\"billBox\").innerHTML = h;\r\n\t\r\n\tvar doms=com.get(\"billBox\").getElementsByTagName(\"li\");\r\n\t\r\n\tfor (var i=0; i<doms.length; i++){\r\n\t\t\tdoms[i].addEventListener(\"click\", function(e) {\r\n\t\t\t\t\r\n\t\t\tvar inx = this.getAttribute(\"id\").split(\"_\")[1];\r\n\t\t\tbill.setMove (bl , inx , initMap)\r\n\t\t\tcom.show();\r\n\t\t})\r\n\t}\r\n\r\n}\n\n//# sourceURL=webpack:///./js/bill.js?");

/***/ }),

/***/ "./js/common.js":
/*!**********************!*\
  !*** ./js/common.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\r\n\r\nvar com = com||{};\r\nwindow.com=com;\r\n\r\ncom.init = function (stype){\r\n\t\r\n\tcom.nowStype= stype || com.getCookie(\"stype\") ||\"stype2\";\r\n\tvar stype = com.stype[com.nowStype];\r\n\tcom.width\t\t\t=\tstype.width;\t\t//�������?\r\n\tcom.height\t\t\t=\tstype.height; \t\t//�����߶�\r\n\tcom.spaceX\t\t\t=\tstype.spaceX;\t\t//�ŵ�X���?\r\n\tcom.spaceY\t\t\t=\tstype.spaceY;\t\t//�ŵ�Y���?\r\n\tcom.pointStartX\t\t=\tstype.pointStartX;\t//��һ���ŵ�X����;\r\n\tcom.pointStartY\t\t=\tstype.pointStartY;\t//��һ���ŵ�Y����;\r\n\tcom.page\t\t\t=\tstype.page;\t\t\t//ͼƬĿ¼\r\n\t\r\n\tcom.get(\"box\").style.width = com.width+130+\"px\";\r\n\t\r\n\tcom.canvas\t\t\t=\tdocument.getElementById(\"chess\"); //����\r\n\tcom.ct\t\t\t\t=\tcom.canvas.getContext(\"2d\") ; \r\n\tcom.canvas.width\t=\tcom.width;\r\n\tcom.canvas.height\t=\tcom.height;\r\n\t\r\n\tcom.childList\t\t=\tcom.childList||[];\r\n\t\r\n\tcom.loadImages(com.page);\t\t//����ͼƬ/ͼƬĿ¼\r\n\t//z(com.initMap.join())\r\n}\r\n\r\n//��ʽ\r\ncom.stype = {\r\n\tstype1:{\r\n\t\twidth:325,\t\t//�������?\r\n\t\theight:402, \t\t//�����߶�\r\n\t\tspaceX:35,\t\t//�ŵ�X���?\r\n\t\tspaceY:36,\t\t//�ŵ�Y���?\r\n\t\tpointStartX:5,\t\t//��һ���ŵ�X����;\r\n\t\tpointStartY:19,\t\t//��һ���ŵ�Y����;\r\n\t\tpage:\"stype_1\"\t//ͼƬĿ¼\r\n\t},\r\n\tstype2:{\r\n\t\twidth:530,\t\t//�������?\r\n\t\theight:567, \t\t//�����߶�\r\n\t\tspaceX:57,\t\t//�ŵ�X���?\r\n\t\tspaceY:57,\t\t//�ŵ�Y���?\r\n\t\tpointStartX:-2,\t\t//��һ���ŵ�X����;\r\n\t\tpointStartY:0,\t\t//��һ���ŵ�Y����;\r\n\t\tpage:\"stype_2\"\t//ͼƬĿ¼\r\n\t}\t\t\r\n}\r\n//��ȡID\r\ncom.get = function (id){\r\n\treturn document.getElementById(id)\r\n}\r\n\r\nwindow.onload = function(){  \r\n\tcom.bg=new com.class.Bg();\r\n\tcom.dot = new com.class.Dot();\r\n\tcom.pane=new com.class.Pane();\r\n\tcom.pane.isShow=false;\r\n\t\r\n\tcom.childList=[com.bg,com.dot,com.pane];\t\r\n\tcom.mans\t ={};\t\t//���Ӽ���\r\n\tcom.createMans(com.initMap)\t\t//��������\t\r\n\tcom.bg.show();\r\n\r\n\t\r\n\t\r\n\tcom.getData(\"js/gambit.all.js\",\r\n\t\tfunction(data){\r\n\t\tcom.gambit=data.split(\" \");\r\n\t\tAI.historyBill = com.gambit;\r\n\t})\r\n\tcom.getData(\"js/store.js\",\r\n\t\tfunction(data){\r\n\t\tcom.store=data.split(\" \");\r\n\t})\r\n\r\n\tcom.initUI();\r\n}\r\n\r\ncom.initUI=(cb)=>{\r\n\tcom.finished=cb;\r\n\tcom.get('wait-pay').style.display='none';\r\n\tcom.init('stype2');\r\n\t\tcom.show();\r\n\t\tplay.depth = 4;\r\n\t\tplay.init();\r\n\t\tdocument.cookie=\"stype=stype2\";\r\n\t\tclearInterval(timer);\r\n\t\tvar i=0;\r\n\t\tvar timer = setInterval(function (){\r\n\t\t\tcom.show();\r\n\t\t\tif (i++>=5) clearInterval(timer);\r\n\t\t},2000);\r\n}\r\n\r\ncom.finishedOne=()=>{\r\n\tcom.finished&&\tcom.finished();\r\n}\r\n\r\n\r\n\r\n//����ͼƬ\r\ncom.loadImages = function(stype){\r\n\t\r\n\t//��������\r\n\tcom.bgImg = new Image();\r\n\tcom.bgImg.src  = \"img/\"+stype+\"/bg.png\";\r\n\t\r\n\t//��ʾ��\r\n\tcom.dotImg = new Image();\r\n\tcom.dotImg.src  = \"img/\"+stype+\"/dot.png\";\r\n\t\r\n\t//����\r\n\tfor (var i in com.args){\r\n\t\tcom[i] = {};\r\n\t\tcom[i].img = new Image();\r\n\t\tcom[i].img.src = \"img/\"+stype+\"/\"+ com.args[i].img +\".png\";\r\n\t}\r\n\t\r\n\t//�������?\r\n\tcom.paneImg = new Image();\r\n\tcom.paneImg.src  = \"img/\"+stype+\"/r_box.png\";\r\n\t\r\n\tdocument.getElementsByTagName(\"body\")[0].style.background= \"url(img/\"+stype+\"/bg.jpg)\";\r\n\t\r\n}\r\n\r\n//��ʾ�б�\r\ncom.show = function (){\r\n\tcom.ct.clearRect(0, 0, com.width, com.height);  \r\n\tfor (var i=0; i<com.childList.length ; i++){\r\n\t\tcom.childList[i].show();\r\n\t}\r\n}\r\n\r\n//��ʾ�ƶ����������?\r\ncom.showPane  = function (x,y,newX,newY){\r\n\tcom.pane.isShow=true;\r\n\tcom.pane.x= x ;\r\n\tcom.pane.y= y ;\r\n\tcom.pane.newX= newX ;\r\n\tcom.pane.newY= newY ;\r\n}\r\n\r\n//����map�����е�����\r\ncom.createMans = function(map){\r\n\tfor (var i=0; i<map.length; i++){\r\n\t\tfor (var n=0; n<map[i].length; n++){\r\n\t\t\tvar key = map[i][n];\r\n\t\t\tif (key){\r\n\t\t\t\tcom.mans[key]=new com.class.Man(key);\r\n\t\t\t\tcom.mans[key].x=n;\r\n\t\t\t\tcom.mans[key].y=i;\r\n\t\t\t\tcom.childList.push(com.mans[key])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n//debug alert\r\ncom.alert = function (obj,f,n){\r\n\tif (typeof obj !== \"object\") {\r\n\t\ttry{console.log(obj)} catch (e){}\r\n\t\t//return alert(obj);\r\n\t}\r\n\tvar arr = [];\r\n\tfor (var i in obj) arr.push(i+\" = \"+obj[i]);\r\n\ttry{console.log(arr.join(n||\"\\n\"))} catch (e){}\r\n\t//return alert(arr.join(n||\"\\n\\r\"));\r\n}\r\n\r\n//com.alert�ļ�д������z�����������\r\nvar z = com.alert;\r\n\r\n//��ȡԪ�ؾ���ҳ�����ľ���\r\ncom.getDomXY = function (dom){\r\n\tvar left = dom.offsetLeft;\r\n\tvar top = dom.offsetTop;\r\n\tvar current = dom.offsetParent;\r\n\twhile (current !== null){\r\n\t\tleft += current.offsetLeft;\r\n\t\ttop += current.offsetTop;\r\n\t\tcurrent = current.offsetParent;\r\n\t}\r\n\treturn {x:left,y:top};\r\n}\r\n\r\n//���cookie\r\ncom.getCookie = function(name){\r\n\tif (document.cookie.length>0){\r\n\t\tstart=document.cookie.indexOf(name + \"=\")\r\n\t\tif (start!=-1){ \r\n\t\t\tstart=start + name.length+1 \r\n\t\t\tend=document.cookie.indexOf(\";\",start)\r\n\t\tif (end==-1) end=document.cookie.length\r\n\t\t\treturn unescape(document.cookie.substring(start,end))\r\n\t\t} \r\n\t}\r\n\treturn false;\r\n}\r\n//��ά������?\r\ncom.arr2Clone = function (arr){\r\n\tvar newArr=[];\r\n\tfor (var i=0; i<arr.length ; i++){\t\r\n\t\tnewArr[i] = arr[i].slice();\r\n\t}\r\n\treturn newArr;\r\n}\r\n\r\n//ajax��������\r\ncom.getData = function (url,fun){\r\n\tvar XMLHttpRequestObject=false;\r\n\tif(window.XMLHttpRequest){\r\n\t\tXMLHttpRequestObject=new XMLHttpRequest();\r\n\t}else if(window.ActiveXObject){\r\n\tXMLHttpRequestObject=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t}\r\n\tif(XMLHttpRequestObject){\r\n\t\tXMLHttpRequestObject.open(\"GET\",url);\r\n\t\tXMLHttpRequestObject.setRequestHeader('Content-Type','application/x-www-form-urlencoded');\r\n\t\tXMLHttpRequestObject.onreadystatechange=function (){\r\n\t\t\tif(XMLHttpRequestObject.readyState==4 && XMLHttpRequestObject.status==200){\r\n\t\t\t\tfun (XMLHttpRequestObject.responseText)\r\n\t\t\t\t//return XMLHttpRequestObject.responseText;\r\n\t\t\t}\r\n\t\t}\r\n\tXMLHttpRequestObject.send(null);\r\n\t}\r\n}\r\n\r\n//�����������ŷ�\r\ncom.createMove = function (map,x,y,newX,newY){\r\n\tvar h=\"\";\r\n\tvar man = com.mans[map[y][x]];\r\n\th+= man.text;\r\n\tmap[newY][newX] = map[y][x];\r\n\tdelete map[y][x];\r\n\tif (man.my===1){\r\n\t\tvar mumTo=[\"һ\",\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"ʮ\"];\t\r\n\t\tnewX=8-newX;\r\n\t\th+= mumTo[8-x];\r\n\t\tif (newY > y) {\r\n\t\t\th+= \"��\";\r\n\t\t\tif (man.pater == \"m\" || man.pater == \"s\" || man.pater == \"x\"){\r\n\t\t\t\th+= mumTo[newX];\r\n\t\t\t}else {\r\n\t\t\t\th+= mumTo[newY - y -1];\r\n\t\t\t}\r\n\t\t}else if (newY < y) {\r\n\t\t\th+= \"��\";\r\n\t\t\tif (man.pater == \"m\" || man.pater == \"s\" || man.pater == \"x\"){\r\n\t\t\t\th+= mumTo[newX];\r\n\t\t\t}else {\r\n\t\t\t\th+= mumTo[y - newY -1];\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\th+= \"ƽ\";\r\n\t\t\th+= mumTo[newX];\r\n\t\t}\r\n\t}else{\r\n\t\tvar mumTo=[\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"��\",\"10\"];\r\n\t\th+= mumTo[x];\r\n\t\tif (newY > y) {\r\n\t\t\th+= \"��\";\r\n\t\t\tif (man.pater == \"M\" || man.pater == \"S\" || man.pater == \"X\"){\r\n\t\t\t\th+= mumTo[newX];\r\n\t\t\t}else {\r\n\t\t\t\th+= mumTo[newY - y-1];\r\n\t\t\t}\r\n\t\t}else if (newY < y) {\r\n\t\t\th+= \"��\";\r\n\t\t\tif (man.pater == \"M\" || man.pater == \"S\" || man.pater == \"X\"){\r\n\t\t\t\th+= mumTo[newX];\r\n\t\t\t}else {\r\n\t\t\t\th+= mumTo[y - newY-1];\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\th+= \"ƽ\";\r\n\t\t\th+= mumTo[newX];\r\n\t\t}\r\n\t}\r\n\treturn h;\r\n}\r\n\r\ncom.initMap = [\r\n\t['C0','M0','X0','S0','J0','S1','X1','M1','C1'],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,'P0',    ,    ,    ,    ,    ,'P1',    ],\r\n\t['Z0',    ,'Z1',    ,'Z2',    ,'Z3',    ,'Z4'],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t['z0',    ,'z1',    ,'z2',    ,'z3',    ,'z4'],\r\n\t[    ,'p0',    ,    ,    ,    ,    ,'p1',    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t['c0','m0','x0','s0','j0','s1','x1','m1','c1']\r\n];\r\n\r\n\r\n\r\ncom.initMap1 = [\r\n\t[    ,    ,    ,, \"J0\"   ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,\"c0\",    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,\t  ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,\"s0\",    ,    ,\"C0\",    ],\r\n\t[    ,    ,    ,\"s1\",    ,\"j0\",    ,    ,    ]\r\n];\r\n\r\ncom.initMap1 = [\r\n\t[    ,    ,    ,, \"J0\"   ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    , ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,\"z0\",    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,\t  ,    ,    ,    ],\r\n\t[    ,    ,    ,    ,    ,    ,    ,    ,    ],\r\n\t[    ,    ,    , \"j0\"   ,,    ,    ,    ]\r\n];\r\n\r\ncom.keys = {\r\n\t\"c0\":\"c\",\"c1\":\"c\",\r\n\t\"m0\":\"m\",\"m1\":\"m\",\r\n\t\"x0\":\"x\",\"x1\":\"x\",\r\n\t\"s0\":\"s\",\"s1\":\"s\",\r\n\t\"j0\":\"j\",\r\n\t\"p0\":\"p\",\"p1\":\"p\",\r\n\t\"z0\":\"z\",\"z1\":\"z\",\"z2\":\"z\",\"z3\":\"z\",\"z4\":\"z\",\"z5\":\"z\",\r\n\t\r\n\t\"C0\":\"c\",\"C1\":\"C\",\r\n\t\"M0\":\"M\",\"M1\":\"M\",\r\n\t\"X0\":\"X\",\"X1\":\"X\",\r\n\t\"S0\":\"S\",\"S1\":\"S\",\r\n\t\"J0\":\"J\",\r\n\t\"P0\":\"P\",\"P1\":\"P\",\r\n\t\"Z0\":\"Z\",\"Z1\":\"Z\",\"Z2\":\"Z\",\"Z3\":\"Z\",\"Z4\":\"Z\",\"Z5\":\"Z\",\r\n}\r\n\r\n//�������ߵ��ŵ�\r\ncom.bylaw ={}\r\n//��\r\ncom.bylaw.c = function (x,y,map,my){\r\n\tvar d=[];\r\n\t//������\r\n\tfor (var i=x-1; i>= 0; i--){\r\n\t\tif (map[y][i]) {\r\n\t\t\tif (com.mans[map[y][i]].my!=my) d.push([i,y]);\r\n\t\t\tbreak\r\n\t\t}else{\r\n\t\t\td.push([i,y])\t\r\n\t\t}\r\n\t}\r\n\t//�Ҳ����?\r\n\tfor (var i=x+1; i <= 8; i++){\r\n\t\tif (map[y][i]) {\r\n\t\t\tif (com.mans[map[y][i]].my!=my) d.push([i,y]);\r\n\t\t\tbreak\r\n\t\t}else{\r\n\t\t\td.push([i,y])\t\r\n\t\t}\r\n\t}\r\n\t//�ϼ���\r\n\tfor (var i = y-1 ; i >= 0; i--){\r\n\t\tif (map[i][x]) {\r\n\t\t\tif (com.mans[map[i][x]].my!=my) d.push([x,i]);\r\n\t\t\tbreak\r\n\t\t}else{\r\n\t\t\td.push([x,i])\t\r\n\t\t}\r\n\t}\r\n\t//�¼���\r\n\tfor (var i = y+1 ; i<= 9; i++){\r\n\t\tif (map[i][x]) {\r\n\t\t\tif (com.mans[map[i][x]].my!=my) d.push([x,i]);\r\n\t\t\tbreak\r\n\t\t}else{\r\n\t\t\td.push([x,i])\t\r\n\t\t}\r\n\t}\r\n\treturn d;\r\n}\r\n\r\n//��\r\ncom.bylaw.m = function (x,y,map,my){\r\n\tvar d=[];\r\n\t\t//1��\r\n\t\tif ( y-2>= 0 && x+1<= 8 && !play.map[y-1][x] &&(!com.mans[map[y-2][x+1]] || com.mans[map[y-2][x+1]].my!=my)) d.push([x+1,y-2]);\r\n\t\t//2��\r\n\t\tif ( y-1>= 0 && x+2<= 8 && !play.map[y][x+1] &&(!com.mans[map[y-1][x+2]] || com.mans[map[y-1][x+2]].my!=my)) d.push([x+2,y-1]);\r\n\t\t//4��\r\n\t\tif ( y+1<= 9 && x+2<= 8 && !play.map[y][x+1] &&(!com.mans[map[y+1][x+2]] || com.mans[map[y+1][x+2]].my!=my)) d.push([x+2,y+1]);\r\n\t\t//5��\r\n\t\tif ( y+2<= 9 && x+1<= 8 && !play.map[y+1][x] &&(!com.mans[map[y+2][x+1]] || com.mans[map[y+2][x+1]].my!=my)) d.push([x+1,y+2]);\r\n\t\t//7��\r\n\t\tif ( y+2<= 9 && x-1>= 0 && !play.map[y+1][x] &&(!com.mans[map[y+2][x-1]] || com.mans[map[y+2][x-1]].my!=my)) d.push([x-1,y+2]);\r\n\t\t//8��\r\n\t\tif ( y+1<= 9 && x-2>= 0 && !play.map[y][x-1] &&(!com.mans[map[y+1][x-2]] || com.mans[map[y+1][x-2]].my!=my)) d.push([x-2,y+1]);\r\n\t\t//10��\r\n\t\tif ( y-1>= 0 && x-2>= 0 && !play.map[y][x-1] &&(!com.mans[map[y-1][x-2]] || com.mans[map[y-1][x-2]].my!=my)) d.push([x-2,y-1]);\r\n\t\t//11��\r\n\t\tif ( y-2>= 0 && x-1>= 0 && !play.map[y-1][x] &&(!com.mans[map[y-2][x-1]] || com.mans[map[y-2][x-1]].my!=my)) d.push([x-1,y-2]);\r\n\r\n\treturn d;\r\n}\r\n\r\n//��\r\ncom.bylaw.x = function (x,y,map,my){\r\n\tvar d=[];\r\n\tif (my===1){ //�췽\r\n\t\t//4���?\r\n\t\tif ( y+2<= 9 && x+2<= 8 && !play.map[y+1][x+1] && (!com.mans[map[y+2][x+2]] || com.mans[map[y+2][x+2]].my!=my)) d.push([x+2,y+2]);\r\n\t\t//7���?\r\n\t\tif ( y+2<= 9 && x-2>= 0 && !play.map[y+1][x-1] && (!com.mans[map[y+2][x-2]] || com.mans[map[y+2][x-2]].my!=my)) d.push([x-2,y+2]);\r\n\t\t//1���?\r\n\t\tif ( y-2>= 5 && x+2<= 8 && !play.map[y-1][x+1] && (!com.mans[map[y-2][x+2]] || com.mans[map[y-2][x+2]].my!=my)) d.push([x+2,y-2]);\r\n\t\t//10���?\r\n\t\tif ( y-2>= 5 && x-2>= 0 && !play.map[y-1][x-1] && (!com.mans[map[y-2][x-2]] || com.mans[map[y-2][x-2]].my!=my)) d.push([x-2,y-2]);\r\n\t}else{\r\n\t\t//4���?\r\n\t\tif ( y+2<= 4 && x+2<= 8 && !play.map[y+1][x+1] && (!com.mans[map[y+2][x+2]] || com.mans[map[y+2][x+2]].my!=my)) d.push([x+2,y+2]);\r\n\t\t//7���?\r\n\t\tif ( y+2<= 4 && x-2>= 0 && !play.map[y+1][x-1] && (!com.mans[map[y+2][x-2]] || com.mans[map[y+2][x-2]].my!=my)) d.push([x-2,y+2]);\r\n\t\t//1���?\r\n\t\tif ( y-2>= 0 && x+2<= 8 && !play.map[y-1][x+1] && (!com.mans[map[y-2][x+2]] || com.mans[map[y-2][x+2]].my!=my)) d.push([x+2,y-2]);\r\n\t\t//10���?\r\n\t\tif ( y-2>= 0 && x-2>= 0 && !play.map[y-1][x-1] && (!com.mans[map[y-2][x-2]] || com.mans[map[y-2][x-2]].my!=my)) d.push([x-2,y-2]);\r\n\t}\r\n\treturn d;\r\n}\r\n\r\n//ʿ\r\ncom.bylaw.s = function (x,y,map,my){\r\n\tvar d=[];\r\n\tif (my===1){ //�췽\r\n\t\t//4���?\r\n\t\tif ( y+1<= 9 && x+1<= 5 && (!com.mans[map[y+1][x+1]] || com.mans[map[y+1][x+1]].my!=my)) d.push([x+1,y+1]);\r\n\t\t//7���?\r\n\t\tif ( y+1<= 9 && x-1>= 3 && (!com.mans[map[y+1][x-1]] || com.mans[map[y+1][x-1]].my!=my)) d.push([x-1,y+1]);\r\n\t\t//1���?\r\n\t\tif ( y-1>= 7 && x+1<= 5 && (!com.mans[map[y-1][x+1]] || com.mans[map[y-1][x+1]].my!=my)) d.push([x+1,y-1]);\r\n\t\t//10���?\r\n\t\tif ( y-1>= 7 && x-1>= 3 && (!com.mans[map[y-1][x-1]] || com.mans[map[y-1][x-1]].my!=my)) d.push([x-1,y-1]);\r\n\t}else{\r\n\t\t//4���?\r\n\t\tif ( y+1<= 2 && x+1<= 5 && (!com.mans[map[y+1][x+1]] || com.mans[map[y+1][x+1]].my!=my)) d.push([x+1,y+1]);\r\n\t\t//7���?\r\n\t\tif ( y+1<= 2 && x-1>= 3 && (!com.mans[map[y+1][x-1]] || com.mans[map[y+1][x-1]].my!=my)) d.push([x-1,y+1]);\r\n\t\t//1���?\r\n\t\tif ( y-1>= 0 && x+1<= 5 && (!com.mans[map[y-1][x+1]] || com.mans[map[y-1][x+1]].my!=my)) d.push([x+1,y-1]);\r\n\t\t//10���?\r\n\t\tif ( y-1>= 0 && x-1>= 3 && (!com.mans[map[y-1][x-1]] || com.mans[map[y-1][x-1]].my!=my)) d.push([x-1,y-1]);\r\n\t}\r\n\treturn d;\r\n\t\t\r\n}\r\n\r\n//��\r\ncom.bylaw.j = function (x,y,map,my){\r\n\tvar d=[];\r\n\tvar isNull=(function (y1,y2){\r\n\t\tvar y1=com.mans[\"j0\"].y;\r\n\t\tvar x1=com.mans[\"J0\"].x;\r\n\t\tvar y2=com.mans[\"J0\"].y;\r\n\t\tfor (var i=y1-1; i>y2; i--){\r\n\t\t\tif (map[i][x1]) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t})();\r\n\t\r\n\tif (my===1){ //�췽\r\n\t\t//��\r\n\t\tif ( y+1<= 9  && (!com.mans[map[y+1][x]] || com.mans[map[y+1][x]].my!=my)) d.push([x,y+1]);\r\n\t\t//��\r\n\t\tif ( y-1>= 7 && (!com.mans[map[y-1][x]] || com.mans[map[y-1][x]].my!=my)) d.push([x,y-1]);\r\n\t\t//�Ͻ����Ͻ������?\r\n\t\tif ( com.mans[\"j0\"].x == com.mans[\"J0\"].x &&isNull) d.push([com.mans[\"J0\"].x,com.mans[\"J0\"].y]);\r\n\t\t\r\n\t}else{\r\n\t\t//��\r\n\t\tif ( y+1<= 2  && (!com.mans[map[y+1][x]] || com.mans[map[y+1][x]].my!=my)) d.push([x,y+1]);\r\n\t\t//��\r\n\t\tif ( y-1>= 0 && (!com.mans[map[y-1][x]] || com.mans[map[y-1][x]].my!=my)) d.push([x,y-1]);\r\n\t\t//�Ͻ����Ͻ������?\r\n\t\tif ( com.mans[\"j0\"].x == com.mans[\"J0\"].x &&isNull) d.push([com.mans[\"j0\"].x,com.mans[\"j0\"].y]);\r\n\t}\r\n\t//��\r\n\tif ( x+1<= 5  && (!com.mans[map[y][x+1]] || com.mans[map[y][x+1]].my!=my)) d.push([x+1,y]);\r\n\t//��\r\n\tif ( x-1>= 3 && (!com.mans[map[y][x-1]] || com.mans[map[y][x-1]].my!=my))d.push([x-1,y]);\r\n\treturn d;\r\n}\r\n\r\n//��\r\ncom.bylaw.p = function (x,y,map,my){\r\n\tvar d=[];\r\n\t//������\r\n\tvar n=0;\r\n\tfor (var i=x-1; i>= 0; i--){\r\n\t\tif (map[y][i]) {\r\n\t\t\tif (n==0){\r\n\t\t\t\tn++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}else{\r\n\t\t\t\tif (com.mans[map[y][i]].my!=my) d.push([i,y]);\r\n\t\t\t\tbreak\t\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(n==0) d.push([i,y])\t\r\n\t\t}\r\n\t}\r\n\t//�Ҳ����?\r\n\tvar n=0;\r\n\tfor (var i=x+1; i <= 8; i++){\r\n\t\tif (map[y][i]) {\r\n\t\t\tif (n==0){\r\n\t\t\t\tn++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}else{\r\n\t\t\t\tif (com.mans[map[y][i]].my!=my) d.push([i,y]);\r\n\t\t\t\tbreak\t\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(n==0) d.push([i,y])\t\r\n\t\t}\r\n\t}\r\n\t//�ϼ���\r\n\tvar n=0;\r\n\tfor (var i = y-1 ; i >= 0; i--){\r\n\t\tif (map[i][x]) {\r\n\t\t\tif (n==0){\r\n\t\t\t\tn++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}else{\r\n\t\t\t\tif (com.mans[map[i][x]].my!=my) d.push([x,i]);\r\n\t\t\t\tbreak\t\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(n==0) d.push([x,i])\t\r\n\t\t}\r\n\t}\r\n\t//�¼���\r\n\tvar n=0;\r\n\tfor (var i = y+1 ; i<= 9; i++){\r\n\t\tif (map[i][x]) {\r\n\t\t\tif (n==0){\r\n\t\t\t\tn++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}else{\r\n\t\t\t\tif (com.mans[map[i][x]].my!=my) d.push([x,i]);\r\n\t\t\t\tbreak\t\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(n==0) d.push([x,i])\t\r\n\t\t}\r\n\t}\r\n\treturn d;\r\n}\r\n\r\n//��\r\ncom.bylaw.z = function (x,y,map,my){\r\n\tvar d=[];\r\n\tif (my===1){ //�췽\r\n\t\t//��\r\n\t\tif ( y-1>= 0 && (!com.mans[map[y-1][x]] || com.mans[map[y-1][x]].my!=my)) d.push([x,y-1]);\r\n\t\t//��\r\n\t\tif ( x+1<= 8 && y<=4  && (!com.mans[map[y][x+1]] || com.mans[map[y][x+1]].my!=my)) d.push([x+1,y]);\r\n\t\t//��\r\n\t\tif ( x-1>= 0 && y<=4 && (!com.mans[map[y][x-1]] || com.mans[map[y][x-1]].my!=my))d.push([x-1,y]);\r\n\t}else{\r\n\t\t//��\r\n\t\tif ( y+1<= 9  && (!com.mans[map[y+1][x]] || com.mans[map[y+1][x]].my!=my)) d.push([x,y+1]);\r\n\t\t//��\r\n\t\tif ( x+1<= 8 && y>=6  && (!com.mans[map[y][x+1]] || com.mans[map[y][x+1]].my!=my)) d.push([x+1,y]);\r\n\t\t//��\r\n\t\tif ( x-1>= 0 && y>=6 && (!com.mans[map[y][x-1]] || com.mans[map[y][x-1]].my!=my))d.push([x-1,y]);\r\n\t}\r\n\t\r\n\treturn d;\r\n}\r\n\r\ncom.value = {\r\n\t\r\n\t//����ֵ\r\n\tc:[\r\n\t\t[206, 208, 207, 213, 214, 213, 207, 208, 206],\r\n\t\t[206, 212, 209, 216, 233, 216, 209, 212, 206],\r\n\t\t[206, 208, 207, 214, 216, 214, 207, 208, 206],\r\n\t\t[206, 213, 213, 216, 216, 216, 213, 213, 206],\r\n\t\t[208, 211, 211, 214, 215, 214, 211, 211, 208],\r\n\t\t\r\n\t\t[208, 212, 212, 214, 215, 214, 212, 212, 208],\r\n\t\t[204, 209, 204, 212, 214, 212, 204, 209, 204],\r\n\t\t[198, 208, 204, 212, 212, 212, 204, 208, 198],\r\n\t\t[200, 208, 206, 212, 200, 212, 206, 208, 200],\r\n\t\t[194, 206, 204, 212, 200, 212, 204, 206, 194]\r\n\t],\r\n\t\r\n\t//����?\r\n\tm:[\r\n\t\t[90, 90, 90, 96, 90, 96, 90, 90, 90],\r\n\t\t[90, 96,103, 97, 94, 97,103, 96, 90],\r\n\t\t[92, 98, 99,103, 99,103, 99, 98, 92],\r\n\t\t[93,108,100,107,100,107,100,108, 93],\r\n\t\t[90,100, 99,103,104,103, 99,100, 90],\r\n\t\t\r\n\t\t[90, 98,101,102,103,102,101, 98, 90],\r\n\t\t[92, 94, 98, 95, 98, 95, 98, 94, 92],\r\n\t\t[93, 92, 94, 95, 92, 95, 94, 92, 93],\r\n\t\t[85, 90, 92, 93, 78, 93, 92, 90, 85],\r\n\t\t[88, 85, 90, 88, 90, 88, 90, 85, 88]\r\n\t],\r\n\t\r\n\t//����?\r\n\tx:[\r\n\t\t[0, 0,20, 0, 0, 0,20, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0,23, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0,20, 0, 0, 0,20, 0, 0],\r\n\t\t\r\n\t\t[0, 0,20, 0, 0, 0,20, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[18,0, 0, 0,23, 0, 0, 0,18],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0], \r\n\t\t[0, 0,20, 0, 0, 0,20, 0, 0]\r\n\t],\r\n\t\r\n\t//ʿ��ֵ\r\n\ts:[\r\n\t\t[0, 0, 0,20, 0,20, 0, 0, 0],\r\n\t\t[0, 0, 0, 0,23, 0, 0, 0, 0],\r\n\t\t[0, 0, 0,20, 0,20, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0,20, 0,20, 0, 0, 0],\r\n\t\t[0, 0, 0, 0,23, 0, 0, 0, 0], \r\n\t\t[0, 0, 0,20, 0,20, 0, 0, 0]\r\n\t],\r\n\t\r\n\t//����ֵ\r\n\tj:[\r\n\t\t[0, 0, 0, 8888, 8888, 8888, 0, 0, 0],\r\n\t\t[0, 0, 0, 8888, 8888, 8888, 0, 0, 0], \r\n\t\t[0, 0, 0, 8888, 8888, 8888, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t\t[0, 0, 0, 8888, 8888, 8888, 0, 0, 0],\r\n\t\t[0, 0, 0, 8888, 8888, 8888, 0, 0, 0], \r\n\t\t[0, 0, 0, 8888, 8888, 8888, 0, 0, 0]\r\n\t],\r\n\t\r\n\t//�ڼ�ֵ\r\n\tp:[\r\n\t\t\r\n\t\t[100, 100,  96, 91,  90, 91,  96, 100, 100],\r\n\t\t[ 98,  98,  96, 92,  89, 92,  96,  98,  98],\r\n\t\t[ 97,  97,  96, 91,  92, 91,  96,  97,  97],\r\n\t\t[ 96,  99,  99, 98, 100, 98,  99,  99,  96],\r\n\t\t[ 96,  96,  96, 96, 100, 96,  96,  96,  96], \r\n\t\t\r\n\t\t[ 95,  96,  99, 96, 100, 96,  99,  96,  95],\r\n\t\t[ 96,  96,  96, 96,  96, 96,  96,  96,  96],\r\n\t\t[ 97,  96, 100, 99, 101, 99, 100,  96,  97],\r\n\t\t[ 96,  97,  98, 98,  98, 98,  98,  97,  96],\r\n\t\t[ 96,  96,  97, 99,  99, 99,  97,  96,  96]\r\n\t],\r\n\t\r\n\t//����?\r\n\tz:[\r\n\t\t[ 9,  9,  9, 11, 13, 11,  9,  9,  9],\r\n\t\t[19, 24, 34, 42, 44, 42, 34, 24, 19],\r\n\t\t[19, 24, 32, 37, 37, 37, 32, 24, 19],\r\n\t\t[19, 23, 27, 29, 30, 29, 27, 23, 19],\r\n\t\t[14, 18, 20, 27, 29, 27, 20, 18, 14],\r\n\t\t\r\n\t\t[ 7,  0, 13,  0, 16,  0, 13,  0,  7],\r\n\t\t[ 7,  0,  7,  0, 15,  0,  7,  0,  7], \r\n\t\t[ 0,  0,  0,  0,  0,  0,  0,  0,  0],\r\n\t\t[ 0,  0,  0,  0,  0,  0,  0,  0,  0],\r\n\t\t[ 0,  0,  0,  0,  0,  0,  0,  0,  0]\r\n\t]\r\n}\r\n\r\n//����Ϊ���ּ�ֵλ�õĵ���\r\ncom.value.C = com.arr2Clone(com.value.c).reverse();\r\ncom.value.M = com.arr2Clone(com.value.m).reverse();\r\ncom.value.X = com.value.x;\r\ncom.value.S = com.value.s;\r\ncom.value.J = com.value.j;\r\ncom.value.P = com.arr2Clone(com.value.p).reverse();\r\ncom.value.Z = com.arr2Clone(com.value.z).reverse();\r\n\r\n//������\r\ncom.args={\r\n\t//���� ����/ͼƬ��ַ/��Ӫ/Ȩ��\r\n\t'c':{text:\"��\", img:'r_c', my:1 ,bl:\"c\", value:com.value.c},\r\n\t'm':{text:\"��\", img:'r_m', my:1 ,bl:\"m\", value:com.value.m},\r\n\t'x':{text:\"��\", img:'r_x', my:1 ,bl:\"x\", value:com.value.x},\r\n\t's':{text:\"��\", img:'r_s', my:1 ,bl:\"s\", value:com.value.s},\r\n\t'j':{text:\"��\", img:'r_j', my:1 ,bl:\"j\", value:com.value.j},\r\n\t'p':{text:\"��\", img:'r_p', my:1 ,bl:\"p\", value:com.value.p},\r\n\t'z':{text:\"��\", img:'r_z', my:1 ,bl:\"z\", value:com.value.z},\r\n\t\r\n\t//����\r\n\t'C':{text:\"܇\", img:'b_c', my:-1 ,bl:\"c\", value:com.value.C},\r\n\t'M':{text:\"�R\", img:'b_m', my:-1 ,bl:\"m\", value:com.value.M},\r\n\t'X':{text:\"��\", img:'b_x', my:-1 ,bl:\"x\", value:com.value.X},\r\n\t'S':{text:\"ʿ\", img:'b_s', my:-1 ,bl:\"s\", value:com.value.S},\r\n\t'J':{text:\"˧\", img:'b_j', my:-1 ,bl:\"j\", value:com.value.J},\r\n\t'P':{text:\"��\", img:'b_p', my:-1 ,bl:\"p\", value:com.value.P},\r\n\t'Z':{text:\"��\", img:'b_z', my:-1 ,bl:\"z\", value:com.value.Z}\r\n};\r\n\r\ncom.class = com.class || {} //��\r\ncom.class.Man = function (key, x, y){\r\n\tthis.pater = key.slice(0,1);\r\n\tvar o=com.args[this.pater]\r\n\tthis.x = x||0;   \r\n    this.y = y||0;\r\n\tthis.key = key ;\r\n\tthis.my = o.my;\r\n\tthis.text = o.text;\r\n\tthis.value = o.value;\r\n\tthis.isShow = true;\r\n\tthis.alpha = 1;\r\n\tthis.ps = []; //�ŵ�\r\n\t\r\n\tthis.show = function (){\r\n\t\tif (this.isShow) {\r\n\t\t\tcom.ct.save();\r\n\t\t\tcom.ct.globalAlpha = this.alpha;\r\n\t\t\tcom.ct.drawImage(com[this.pater].img,com.spaceX * this.x + com.pointStartX , com.spaceY *  this.y +com.pointStartY);\r\n\t\t\tcom.ct.restore(); \r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.bl = function (map){\r\n\t\tvar map = map || play.map\r\n\t\treturn com.bylaw[o.bl](this.x,this.y,map,this.my)\r\n\t}\r\n}\r\n\r\ncom.class.Bg = function (img, x, y){\r\n\tthis.x = x||0; \r\n    this.y = y||0;\r\n\tthis.isShow = true;\r\n\t\r\n\tthis.show = function (){\r\n\t\tif (this.isShow) com.ct.drawImage(com.bgImg, com.spaceX * this.x,com.spaceY *  this.y);\r\n\t}\r\n}\r\ncom.class.Pane = function (img, x, y){\r\n\tthis.x = x||0; \r\n    this.y = y||0;\r\n\tthis.newX = x||0; \r\n    this.newY = y||0;\r\n\tthis.isShow = true;\r\n\t\r\n\tthis.show = function (){\r\n\t\tif (this.isShow) {\r\n\t\t\tcom.ct.drawImage(com.paneImg, com.spaceX * this.x + com.pointStartX , com.spaceY *  this.y + com.pointStartY)\r\n\t\t\tcom.ct.drawImage(com.paneImg, com.spaceX * this.newX + com.pointStartX  , com.spaceY *  this.newY + com.pointStartY)\r\n\t\t}\r\n\t}\r\n}\r\n\r\ncom.class.Dot = function (img, x, y){\r\n\tthis.x = x||0; \r\n    this.y = y||0;\r\n\tthis.isShow = true;\r\n\tthis.dots=[]\r\n\t\r\n\tthis.show = function (){\r\n\t\tfor (var i=0; i<this.dots.length;i++){\r\n\t\t\tif (this.isShow) com.ct.drawImage(com.dotImg, com.spaceX * this.dots[i][0]+10  + com.pointStartX ,com.spaceY *  this.dots[i][1]+10 + com.pointStartY)\r\n\t\t}\r\n\t}\r\n}\r\n\r\ncom.init();\r\n\r\n\n\n//# sourceURL=webpack:///./js/common.js?");

/***/ }),

/***/ "./js/gambit.js":
/*!**********************!*\
  !*** ./js/gambit.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*! һҶ���� | qq:28701884 | ��ӭָ�� */\r\ncom.gambit=com.gambit || \r\n\"774770627967807089797276666512422625000119270171 774770627967807026256364192772821715204289883041 192723247757102279677062897980706665604217132214 774770627967807089791022190763641727121479736254 774710222625808117272042796770828979726219070010 262563647767724219277062294780706764122279672324 774770627967636489798070797310221927232409081213 773772427967706259488070694710228959120217150010 774772427967706289798081192710222625815139480001 774770627967636417378070192710220919001089791216 773770627967807089792324797572827535102229477074 262512227747204279678081897981111927103109193041 774772427967706289798081192781313948102226250001 774770627967807026257282192763641707124209191022 774770627967807089791022666523241907030417272214 774772427967706289791022262580811927815139480001 774710227967725266657062262580708979707967791215 774710227967725289797062262512021727204227236364 774710222625725219277062170780707967636409190010 174710221927001066657242796770628979808167552324 774770627967124219271022091900012625013189798070 192723247757102279677082897980706665727629473041 262512227747204279672324897924251907808109198131 262563647767724219277062294710023948123209190010 174710221927001009197062262563647987838477676274 774772427967706289798081192781316665232479744241 262520427747706279678070897963641927102217150020 774770627967807089791022190772766665232409086042 774770627967807026256364192720428979727617071022 262512227747724219272324273524253543808179678121 773772427967706289798081192781313948102279754344 774770627967807089796364797310222625728273638281 774770627967807089791022262563647973728273638281 262570626665728277676042192780700908100269470001 694712322625100219270010091910141707143477576042 694772526665708279678070897970741927102217152324 774770627967807089886364262510221927204288583041 774770627967232466651022190780708979030417377274 774770627967807089791022262563647973204219277282 666510222625724279677062897980707773121909190010 262512227747204279672324190724258979103109193041 775772526665708279678070192723241707102209190010 774770627967807089796364173772761927100209190010 774770627967807089791022190763641727001009191216 774770627967636489798082192710224645304117156254 694763642625706219276042090810020868000166656465 774770627967807089791022666523241713604279737282 774770627967807089791022666523241713604279732234 796763642625706219278081898881211718100288586042 262512227747204219078081091981317967304139483134 774772427967706289796364192710222625000117150131 774770627967807026256364192710228988204227353041 796763642625706219278081170712520919102277736274 666560427757232479677062897980701927102217132214 774770627967807026257282192770752907636489881216 774772427967706289798081192781312625100279753136 773770627967807066657282192723241713604213631022 262512227747204239486364796770628979807079757282 262512227747204247433041294710314344001019388081 774770627967807026256364192710221715627427352042 774770627967636417371022897980701927001009191216 774770627967807089791022262563641927121627351666 694772327967706289798070777363647363204279706270 773772427967706289791022192723243948636417070010 775712522625102219270010796770828979807009191014 666572622947708279671242897910221927001009198070 694772327967706289796364778720421927232417071022 192723247757102279677082897980702947204257527262 773770627967807089797276666576662625124219277079 774770627967807089791022190723246665030417272214 294723246665102219277252796770628979807017136042 796763642625706219278081898881211718728288582171 174710221927001009196364191570626665646515657271 694712322625100219270010091910141707143477577062 262563641927706269472042795810318969002066656465 262563647767124219271022091900101713706269472201 666510222625120217272042190700107967708269478081 262520421927636417071022091900107737706279676274 262572427967706219278070897970747787747967791002 262520421927636417071022091900107737706279676254 775772421927706279678070694763642625100206050001 262512226947100219270010091972421713706277578070 262512227747204279678081192781118979103117077082 694772327967706289798070777363642625100219271222 774770627967807026257282192770754645124227461022 774770627967807089792324190710221737727426252425 262563647767724219277062294780703948100209395041 262512226947100219270010091910141707143479677062 192763642625706279672042090880810838122227151002 774770627967807026257282192763641715204289887076 774770626665807079672324171310221323604219271214 774770627967807026256364192710221715727789797747 262570626665124277471022190780707967728217277074 173772427967100219272324091912226947242547250001 262570621927728279678070897963640908204269473041 262512227747204279672324190724258979808109198131 774770627967807026256364192710228988204288587282 774710227967725266652324190760421727001009191216 774772427967706289798081797581311927313629071002 774770627967807089796364797310221927304109081202 262512221747724279677062897923241907242509191002 774772427967808189797062192781316665100267553135 262570621927100229476364798760427757000189798070 262512227747604219071002091900010605013179673134 262570627767807066651242174710221927001067631014 774770626665807079677282192723241713102213230010 774710227967808189798131192730411707708209193136 774710227967706226256364192780708988304117156274 262563647767724219277062294780703948625467645446 262563647767604279877062897980707973728273706270 262570626665728277672042798780702947232425247074 262520421927102266657082796772528979807077728384 774712427967102289797262173770821927001026256266 773770627967807066657282192710222625232425247074 694772427967636419277062897980701707102209192324 774710227967636489797252797130411927121171737062 666572621747124219277082775780707967707667557656 774770627967807066652324897910221713604219272214 774770627967807026256364192710228988604288587274 774770627967807026256364192772821715102266657076 774770627967807089791022190763647973625409082042 773772427967706259488070190710226947434489594445 774770627967807026256364192710228988204288586274 192723246665102279670001090801611713636413236465 774710227967808189797082262572621927204227358151 774710227967725266652324190760428988030417270010 262572427967706289798081778781317975102239484344 694763641737100219270010091960422625706279675041 774772427967808189797062192723247974812129071002 262520427747706279678070897963647973102219277282 774770627967807019277282170710220919001026256364 174710221927001066652324796770627775204209198081 774710227967706226256364192780701715000189790131 192723241707102209190010191512021510221077477062 694772427967706219278070897910022625123277752324 694712522625102219270010273510140908504108586364 774710227967725289797062262563641713304119272042 774770627967807089796364797310221927625409083041 666572621747604279870001897901511927504159481002 175712421927102209197062666572827987232419150001 294710222625724219277062798780817767434417134445 774770627967807089792324666510221907030417136042 774710227967725289797062666523241907604246455041 774710227967808189798131262531341927708279757252 774770627967636426258070192772828988707529071022 796763647787706289798070797572827570627017477062 774770627967807089797276262512426665000119270171 174710221927001066651202796723240908604267555041 774772427967706289888070883870741927121426252324 262520421747706279871031898800208838808109077276 774770627967636489798070797310222625728273638281 666523247967102229472042898870828828121026251020 774710227967808189798131192730411707708209198384 666572622947708279678070897912427773102217370010 262512227747204247433041294710314344001019386364 774770627967807026256364192720421707102209190010 773770627967807019077282666510020605707489797479 774770627967807089796364797310221907728273638281 262512227747204279678081897981111927103117077082 774770626665232479678070171310221323728219270010 774770627967807089791022666523241713604213230010 774710227967725289797062262563641713204219272324 774770626665807079672324897910221713604279737282 694772427967706289798070192710026665123209190010 262520421927636417071022091900107737706279678070 192723246665102279670001394801618987636465646164 774770627967807019277282898810224645304188382042 262520421927706217076364091910317987232425240020 774770627967807089791022666523241907000117272214 796763641737706219271002091900102625122219100210 774770627967636489798070797310221907625409082042 774770627967807089791022190723241727221409086042 774710227967725266652324190760428988706288285041 774772427967706266658070192710222625000189880131 775712421927102279677082897980700919001017132324 694763642625604219271002090800010858706227151217 774770627967807089796364797310221927232409081213 774772427967706266658070192710222625000109080131 774770627967232419278070170710220919001019136364 262520427747636479677062192710221707121609191626 774770627967636417378070192712320919102226253041 774712427967102289797062173750417973608219270010 262563647767724219277062294780703948625479871022 774770627967807089796364797310222625204273632241 262512227967232419072425778710028979604279757051 262563641927706209081002694700016665646508686042 774772427967808189797062192723246665122229071002 774770627967807089791022262563647973000117270131 774772427967706289798081192781313948102217152324 192723247757102229471202170700106665708279678070 775712421927102279677082091900108979807017112324 694772322625706219278070795810020605000109080151 774770627967807089796364797310221927232409083041 174710222625636419277062091900107773204273637274 774770627967807026256364192772821707102209190010 174710221927001066652324796712020908504177877232 262512227747204279678081192781111707103127357082 774710227967725266657062897923241907604217270010 796763642625706219278081694723242524812127352124 262570626665122279672324190724250919808129472042 774770627967807089791022262563641715120219270010 774772428988706279678070883870741927102238331214 774772427967706289798081192781316665102226250001 774770627967807026256364192720428988102288587282 774770626665232479671022897980701907030417272214 774770627967807089791242192710222625001009191014 774710227967120219070010091970628979807079736364 774770627967807089792324797510222625242575251211 774770627967636417371022897980701927001009192324 774770627967807089796364173772761927124239481022 773770627967807089797276666576662625707967791242 774770627967807026256364192710228979121679751666 262570621927636409086042694772702735100235230001 774770627967807089796364797310222625625419272042 262512227747204247433041294780817967103143440010 774770627967807066657282192723241713102213230010 262570621927636417071022091900107747807079676042 774770627967636489798070797310224645232445443041 694710221907724279677062090800010838434477734445 775712421927102279877277294770628988808188380001 694772421927706277578070796723246665102267551215 774770627967807066652324897910221713604213230304 174712421927102209192324798770628988000219150212 262563647767724219277062294710026764123264650010 774770627967807089791022262563647973625419272042 666510227967232429476042193870510929806026252425 694763641907706217271002060500100919604279585041 774770627967807089796364797310221927625409082042 666510222625120219077262694770827967807089796364 262512227747204279672324190724258979808147433041 774770627967807089797276666512421927102226250010 262512221747724219277062796780708979707509191002 774710227967725289797062173700101927120226256364 666572621747604247435041694770514344807079581022 774770627967807089797276666512422625102219270010 262563647767724219277062294762543948807079871022 774710227967120219270010091910168979725217071626 774772427967706266658070192710222625707489797479 775712421927102209190010796770828979807057521016 774770627967807026256364192710221715204289881211 774710227967706217370010192780700919232489797276 262512227747204279672324190724250919808139488131 774770627967807089797276666512422625102219270001 666570626947100279678081192760420908815126250001 774772427967706289798081192710222625000117160151 262570626665728279678070897923242524707424232042 774770627967232489798070797510222625242575251211 774770627967232489798070190710227975204226253041 774772428988706288388070796710221927707409081202 774710227967725289797062262530416665204267550030 774770626665807079672324171310221323204289790010 694772321907706279676364594810022625030417370010 773772427967706269478070594870748959102259526270 774770626665807079677282192750412625232425247074 190703047747706279678070897910026665000179736042 774770627967636489798070797310222625121646452042 796763641747102219277062090830414645627477721272 262512227747604219075041796703044743040506050005 262512227747724279671002897900101927706209191014 262520421927636477377062796780812735815109081222 774772427967706289798081666581311927100267551222 192723246665102279670001778701618979636465646164 774772427967706289888070883870741927102217151214 774772428988706279678070883870743831102231211214 262512227747204219078081091981317967304189793134 774770627967807026256364192710228988604288585041 774772427967706289798081192781316665100239483135 262512227747204279678081190781310919313489791031 262570626665122269471002192700100919101479676042 774770627967807026256364192710222735304117271202 774772427967808189797062192781312625100279753136 190763641727100209190010774770627967807089886042 262512227747204219077062666580707967222509191022 666523247727204289878081873763646564816129476164 262512227747204279672324190724258979808139488111 774772427967706289796364192710227975807075251211 262570626665122219071002171220422947728279678070 262512227747204219078081091981317967313447433041 774710227967725289797062666520421907232417270010 192723246665102279677082898883848858204217070010 774770627967807066652324171310221323001019276042 262563641927706209082042694710317958002066656465 262570621927636409086042273510227727120225244224 774770627967807026256364192710228988204288583041 262563641927706209086042694710020858000158530131 774770626665807079672324897910221713604213230010 773763647967723289797062797580707555100206056042 774710222625304179672042192700301707725209191202 796763641737102219270010262512162735706209197275 774770627967807089791022190723246665000117272214 694772327967706289796364262580811907030477871002 774770627967124219071022897980700919727666652324 262512227747204247433041294710314344808119380010 774770627967807089796364262510221715000119270131 774770627967807089797276262563641927204267887675 694772327967706289796364262520421927808117078151 774710227967725289797062262580811713813119275257 774710222625725219277062273520421707807009190010 666560427967232417571022192700106947706277752214 262563647767604279877062897980701747000119271232 773772427967706269478081594881511907030417271002 774770627967807026257282192763648988707546451242 774710227967706289798070190723241727221409082042 262512227747204279678081474330412947103143440010 774770627967636489797274192710221707121179756042 262512227747724279671002897970621927001009191014 774710227967725289797062262563641713204219273041 774770627967807089791022190763641737001009197276 774772427967706266658070192710222625000109087074 773772427967706259488070694710228959232419272234 694763642625604219271002090800010868016127351215 774770627967807026256364192772821715204227357078 262570621927636409082042694772820868807027357075 174710221927001009192324191370627757636479877273 773770627967807026256364192710020605000105040304 774770627967807066652324897910221907030417272214 666523247747102279677082190720421727001009191216 774772427967808119277062897981316665100239481222 774710227967725289797062262530411927204227350030 774710227967725266658081190781311727313569872042 773772427967706289791022394812021927001079758070 774770627967807089796364262572761927124259481022 262520427747706279676364192780708988728227353041 774710227967725289797062262512021737001019276364 774772427967706289798081192781317975102239480001 775763647987706217478070192710220919001089791216 774770627967807066652324171310221323728219270010 262512227747204279672324897924251907808139488131 773772427967706289791022262500011927013139484344 666512421927102209190010171372627967636467556465 774770627967807089792324666510221907000117272214 262512227747204219078081091981317967304189797082 774770627967807089791022190723247975204226253041 774772428988706279678070883810221927707409082324 773770627967807066657282262523242524707437341222 262563647767724229477062192762543948807079875446 262563647767724229477062676410021927122227154246 774770627967807026256364192772821715102227357078 262570626665728279678070897970747787741417128212 262563641927706209082042777383842735103179676274 262512227747204279672324190724258979808179758131 774770627967807089791022666523241713604213230304 174710221927001009197062798723247767807089791216 774770627967807089791022190763641727001009197276 262563647767724219277062294762543948544609391022 262570626665728279871222897910021712222112828082 262512227747204219078081796781318979313439487082 774772427967706289796364262510221927000179758081 262572222947808266658272798720428979708277731031 774770627967807089791242797372827370627019271022 192712226665232479676042091910021707705189888060 192723247747102279677252898880818838000146458131 798723242947204289888384262524258828708228258274 774770627967232489798070797510221907204226253041 773763647967723219070304172710020919001019151222 262563641927706277478070796772822735204289883041 774770627967807026256364192710221715604289790001 262512227747204279678081173723241907813139482425 773772427967706289791022262512021907001009196364 262570626665728277578070796712222947100217122042 262563647767724219277062294780703948625479874246 774770627967636426251022192780708988204288587274 262512227747204279672324190724258979808139488131 775712521927102209192324796770826665204267555257 774770627967807089791022262563641927121646457276 175710221927001009191216262516267967636477871019 262563647767724219277062294710028988122209190010 773770627967807066657282192723241713604213631222 694763642625706219276042170710220919001077732324 262512227747204247433041294710314344001019387062 262563647767124217471022798770821927001089798070 773772427967706259481022262580701927707489797479 694772327967636489797062262580701927204217071031 694710226665232479672234594872421927706267750001 262563647767724219277062294762543948102267641216 262520421747636419277062091910317967625489885466 774770627967807089797276666512421927232417131022 773770627967807066657282192723241713604267556364 773772427967706289791022262580811927813159480001 192720421707102209190010262563647987706289881214 774772427967808189797062192710222625815179750001 774710227967636489793041262572627975626669877062 774710227967725289797062190763641727625409191202 774770627967807089797276666512421927102209192324 774772427967706289791022192763642625121627158081 774770627967807089791022797372827370627019272324 774712427967706289798070192710220919727626256364 774770627967636426251022192780701715627427352042 262512227747204239487082173750411927222509191022 666512521927102209190001262501617767636427356042 774770627967807089791022190723247975728275706270 694772327757706266658070796710221927232417136042 774770627967807026256364192772821707707509197525 192723247757708279678070666510223948304129477252 774770627967807089791242192710220919727666652324 774772427967808119277062666523241713122229072226 774772427967706289791022192723247974200217138070 262512227747204239487062796763648979807079757282 774710227967725289797062262563641737001019271202 774772427967808189797062192781316665102226251202 774770627967807026257282192763641715102289882042 262572427967706289798070192770747787747967791002 774770627967807089791242192710227973728273706270 262572222947706279878070897920421927232425247074 774710227967120219077082091980708979204266650010 774710227967725289797062666580812625813117273134 774772428988706288388070796770741927102266653041 773780817967813119277222897970621707100266653134 773770627967807066652324171310221323001019277282 774770627967807089796364797310222625625419270001 262570621927636409086042694710022715123208580001 774770627967807066651022192723241713223413636042 774770627967807089881022262563641927204288583041 774710228988808188380001192781310908706246453041 262512227747724279677062897910021737808119278131 192723246665102277476042796770518979636465648060 774710227967636489798082192712117973116117158384 262563641927706229478081798781318988313488582324 192723246665102277477062796772764645204289888070 774710227967808189798131262531341927708217078384 774710227967725289797062173780811927813159480010 774710227967636489798082192770621715838426251211 774772427967808189797062666510222625813119270001 694772326665706279678070897970741927102259482042 774770627967636426251022192780701715604289790001 774770627967102289798070666523241907304109082042 774710227967725289887082192780708858304146457074 262563641927706229471252798710220919838489882042 666572621747124219271022091970827757000179670151 694772427967706219278070897910026665707667557674 774770627967102289798070262563647973625419272042 774770627967807089796364797310221927728273638281 774710227967725289797062666512021907001009191015 774772427967706289796364262580811927232479758121 774770627967636419078070172712420919102219146082 262512222947100219277242898870628858807027350010 774770627967102289798070666523241907030417272214 775770626665807079677282192712420919000167550131 774710227967725289797062262563647973807073637072 262512227747204279672324897924251907808179758131 694772427967706289798070192710022625707477877479 666572621747204279877082897980818685813187753136 694712321907102209080010060570620838101438351454 262563641747706219271002091900102735604235436243 774770627967232417271022190722140908030408380003 774770626665807079672324897910221907030417272214 774772427967706289888070883850411927102266657074 174710221927001066652324796712020908101546457242 262512227747604219071002091900010605013179675041 262560421927636409081002694700010858013158557062 262512227747204279677062173700011927013139482225 774710227967706289798070262563647973728273638281 262512227747204219078081796781318979313409191031 694772527967636426257062192780708979102227357076 262520421927636479877062898880812947813109081022 262570626665728277578070796723242524707424236364 262512227747204219078081796781318979304109197082 773763647967723289797062192710022625604229475041 174710221927232466650010796770620919727626252425 774772428988706279678070883870741927102209082324 262563641927706229472042798710228988808188588131 773763647967723219277062897910022625808179758121 694772327967706289796364262580701927204209083041 262520421737636419271022091900107747706279676254 773770627967807066657282192723241713604213631002 774770627967807089791022666523241907030417132214 262563641927706209086042694710020868727066656465 694772327967706289796364262512221927232427152425 694763641927604209081002262500017967013177877062 262512227747204219077062796780818979728266658131 174712421927102209192324796770626665808177760001 774770627967807026256364192710228979121679757282 774770627967807089791022666523241713604219272234 192723246665102279677082170780810919001019151202 774770627967807089791022190763641737001009191216 262570626665728279678070897923247773242529471022 775770627967636489798070797323241747102219271213 774772427967706289798081192781316665102226251202 694772322625706279871002192700010908017189797174 774710227967725289797062666580811907813159483135 773770627967807089797276666576661927707967792324 694772421927706279678070897910026665123209190010 262512227747204219078081796781318979313466651031 262512227747204239486364796770628979807079731031 694763641907706209081022795800011727625408181202 262563641927706209081022694772827773807073232042 262570626665122219072042091972827747807079677074 262570626665728279678070897923242524707424236364 775712421927102279677082897980700919001057521016 774770627967807026256364192710228988204288587274 774770627967807026256364192710228988204227351216 262570621927636477478070796710221715627427356042 262512227747204219078081091981317967313439481031 262570626665122219077282796780708979707477877414 694763642625706219276042090810020868727066656465 774710227967725289887062885880701927304146452324 774772427967706289796364192710222625121627151666 694763641907030409081002666564650868604268650214 262512227747706279678070897900011927727627352042 774710222625636419277062796780702735204289887282 774710227967725289797062666523241907604217270010 774772428988706279678070883870741927504166651022 774770627967807089792324666510221907030417272214 694723241727204219071022091900107958708219151202 262570621927636409086042694710020868727066657060 262570626665122219070304091904050605000517671002 774770627967807089792324797510221907728275706270 775712421927102279677082091900108979807017132324 192770622625636477371002796780701707001009191216 174770621927123209191022262563647987604277578070 262520421927706229476364798780818988813186853136 774770627967807089791242666510221927001009191015 262512227747204279678081192781318979304109193136 774770627967636489798082173712117973000219270232 262563641927706277471022796780701715604289790001 774772427967808189797062192781316665232479744241 694763642625706219278081090820427958103189690020 774770627967636489798070797310222625625419272042 262512227747204279678081897981111927103179757082 694772427967706266658070897910221927000117157076 774772428988706279678070883870741927102217152324 774710227967725289797082190780811727204209191202 774770627967807089796364797372827370627047431022 774770627967807089792324666510221713604219272234 774710227967725289797062666523241907204217138081 774772427967808119278131897970622625102279750001 774770627967807089791022262563647975604219271214 192723246665102277477062796780708988000109086042 262570621927808129476364090820427987838489886274 262512227747204239486364796770628979807079737282 773770627967807026257282192710226665204227356364 774710227967636489790001192770821707807009191211 262520421927706266651031796700208988232488388081 262570626665204279671031898872826775315275638070 666523247967102289887082262524258828204228251211 775780816665815139487082174710221927001009191216 694772326665706279678070897970741927102259486364 192763642625706217071022091900107967604277732324 774770627967807089791242192710221715636415250002 774770627967807089797276666512422625102219070010 774772428988706279678070883870741927102266652324 262563641927706277471022796780708988728217152042 774772427967808189797062192781316665102226250001 774770627967807089791022262563647975204219273041 774770627967102289798070262563647973625419270001 774770626665807079677282192723241713604213631022 774710227967808119077082897981311727313409198384 262563641927706229471022798720428988728288688070 774710222625808179678131897931341927708279750001 774710227967636489798082262512117973117173536042 773772427967706289798081594881317973122219070304 774770627967636489798070262572761927204217100010 774770627967807089791022666523241907304109082042 774770627967807089792324190710221727221479730304 774770627967636489798070797310221927000117076254 774770627967807019071022897963641727001009191216 192723246665102277477062796780708988728246453041 774710227967808189797082262572621927204279751216 774710227967725289887062192780708858304146452042 666572621747204219276364091964657987708219158263 774710227967636426257062897980821927121179786042 774710227967636489797252262570621713504119270001 774770627967807066651022897900011907013117273134 774712427967102289797252173770821927000126250131 262512421927000179676364090870620858808158534232 773780817967813139487242897970627975102219274344 666523247967102289881214262560422524422419276364 774710227967725289797062173763641927000109190131 174770621927000109190151777563647525200279671031 774770627967807089791022666523241927604217132234 774772427967706289798081192781316665100267553135 774770627967807066651242190710220919728217370001 774770627967807066652324897910221907000117272214 774710227967636489798082173700011927013139483136 774770627967807089796364797310221737001019271202 666523241727124279671022694770821907726289798070 774772427967706289791022192763642625000117168081 262563641927706269472042795810318969808109080020 262520421927636477477062796780708979727617071031 262512222947100219270010091910166665724279677062 174770626665123279671022778700101927504189792324 774770627967807089796364797310221907625409086465 774770627967807026257282192763641715204227357078 774770627967102289798070262563641927121627351666 774770627967807026256364192772821707707546451242 774770626665807079672324171310221323121419276042 666523247967102289882042675570821747304119277252 774710227967725266658081190781315948304117373135 262512227747604219077062796780706665100209190010 262563641927706277478070796710228988604288586274 174710221927232466650010796770620908504177752234 190710226947232409082042082870822625242528253041 774710227967725289797062262512021713001013432243 774710222625636419277062796780702735204289881216 774770627967807089791022262563647973728273637072 262560421927636477477062796780708988102288585041 774770622625807079677282192770752907636489883041 262563647767724219277062294710028988122288380010 174710221927001066652324796770620908204208382214 262512227967636419277062273520427773103117378081 774772427967706289796364192710222625121627158081 774770626665807079677282190723241737102209190010 262563647767724219277062294780707987625439481022 774770626665807079677282190710020908707408380001 262563641927706269476042090810020868727066657060 262520421927636417077062091910317987838489888485 774770627967807026257282192770754645124227460002 774710227967724289797062192763642625000117162002 174710221927001009197062798763642625838477676274 774772427967706289888070883870741927102238331214 773770627967807066657282190703041727000109190131 192723246665102279677082868520422947808177877262 774772428988706288388070796770741927102217152324 774770627967807026257282192712420919102289880010 262570621927636429472042798780818988812117192324 262512227747724279671002192700100919706289791014 774770626665232419071022796780708979030417272214 774710227967120217370010192770628979807026256364 774770626665807079672324897910221713604279732214 774770627967807089791022666523241907304117136042 174710221927001009192324191370627967636489887273 262512227747724279672324897924251907706279752526 262512227747604219071002091900101713232425242229 262572427967706289798070777312221927232427352425 262570626665728279878070897923242524707424232042 774770627967636489798070797310221927232409083041 192723247757706279678070897910226665304117137276 174710221927001009192324191370627967636489886254 774772428988706288388070796770741927504166651022 262563647767204279877276192770622947100289888081 192723246665102279677082294720428988808188388151 774710227967808189798131192770821707313609190010 774770627967636489798070797310221927232409082234 773770627967807026256364192710026947123209190010 174710221927001009197062798723241913223489886042 262512227747604219071002091900017967013189795041 774770626665807079672324171310221323121489796042 774770627967807089791022190763641727001009191214 774710227967706289798070666523241907000117132214 774770626665232479678070897910221907000117132214 774772427967706289798081666510221927000126250131 192723246665102279677062171322140908000108380121 774770627967807089791022666523241727304109082042 773772427967706289791022192723247975807075357074 774710227967706289798070262563641727001019071216 262512227747204219078081091981313948313479673041 694760421907030409081002666500010858016158545041 774770626665807079672324190772821727102209192234 694763641927604226251002090800010858706279672324 262512227747204219078081091981317967708289798384 774770627967807089797274262512221927204227351002 774772427967706289796364192710222625000117168081 774772427967706289888070883810221927121466651424 262563647767724269474246594860427958464419271002 774770627967102289798070666523241907000117272214 775770626665124219271022796700108979807009191014 773772427967706269471022594812021907001009198070 262512227967232419072425778710028979604279750223 774770626665232417131022132312147967636489798070 262520421927636417071022091900107747706279678070 774772427967706289798081192781317975102226250001 774710227967725289797062666580811713524219278131 774770627967807026256364192772821715204289887076 262512227747204219078081091981314743304143837282 774770626665807079671242192710220919232417137276 774770627967636489798070797310221907625409086465 775763647987724217477062192710020919001066656465 694720426665232479671022190770828685808159488161 262572222947706279878070897920421927103139487074 775712421927102279677082897980702625001009191014 262512227747204219077062796780708979727666657606 174710221927001009197062666523241913120213230201 774772427967706289888070883810221927707438331214 774710227967725266652324190770621727204209190010 774772427967706289796364190710221727808109196254 262520421927706279876364898880812947813109081022 774770627967807089887282192723240908304108387074 192723247757706279678070666572766755762629477076 262563641927706229471002798780813948813177576274 694772327967706289796364778710222625120219070010 694710227967232466656042190700010908016177796364 262512227747204279672324897924251907808147433041 774770627967807026257282192763641715204289881022 694712321907030409191002173770626665604279675041 774710227967706289798070666523241713604219070304 262512227747604219071002091900017967030489790131 774770627967807089796364797310221927232409081214 774772427967706289888070883810221927707417152324 174710221927001066651202796723240908101546457242 774710227967120289790010192772520919101617071626 694710227967232466656042190700011737727406057062 262512227747604219071002091900017967013106055041 774770627967807026256364192720422735102289881216 666560427757232479677062897980701927102217132234 774770626665232479678070171310221323001019276042 774710227967725289797062262580811713524219278131 774710227967706266658070190723248979030417272214 262520421737706219278081091981315948122277476364 774770627967807089796364262510221927121646457276 262563647767724269471002666542465948604265644264 192723246665102279677082898820422947725267758384 666523247747102279677252190760428979706217270010 774770627967807089796364797510226665646575657271 262563641747706219271022091900107987808177736274 774772427967808189797062192781316665100239483135 774770627967636426258070192710228988204288587282 774710227967725289797062262563641737000119270131 774770627967102289798070190763641727001009191216 773770627967807066657282694710021927000159480131 774772427967808189797062192781317973232473631022 774710227967706289798070190723247975728275706270 192723247757102279677082897980706665304129472042 773770627967807026256364192710022947000106050131 262563641927706277478070796772821715204289883041 262512227747604219071002796700100919101489797051 694763647767604279877062897972821927100217070010 774770627967102289798070262563641727121679751666 774770626665807079672324897910221727304109082042 774710227967808189797082262581311927304166653138 774710227967808189797082262581312524232417273132 774770627967807089791022262563647973000119270131 774770627967636489798070797310221737728273706270 192723246665102279670001898801616755727555477572 774770627967807089796364797310221737232419071213 774770627967807089791022190723240908636417272234 774770627967807089791022666523241713604219070304 694763641927604226251002090800017958015189697062 192723247757708279678070666510228979726279708270 666572621747124219276364091964657987626189791022 774770627967807089796364797310221927232409082234 694770827967725289798070262570747787743419271022 174710221927001009197062798723247767807089797276 774770627967807026251022192763641715627427352042 773772427967706289791022262512021907808109198131 774770627967807026256364192710221715604247376274 694763642625604219271002090800017958015189697062 694763642625100219276042090800010858013179677062 262512227747604219071002091900017967015189795154 774710227967808189797082666581511927515426258384 262520421927636477477062796780701707102209190010 774772427967706289798081173710221927001009191216 773772427967706259481022694780708959707419072324 774710227967808189797082192772522625204266658131 262563641927706209082042694710317958002027352324 774770627967807026256364192710228988604288386254 694763642625604219271002090800017958015189695041 192723247757102279677082897980706665000117076364 694763641907030417371002091900106665646519157062 774710227967706289798070190723240908727666652042 773772427967706259488070694710228959232419076364 774770627967807089791022190723241737636409190010 262512227747204279678081897981111927708217100010 775712421927102209190010171570826665807029477252 774772428988706279678070883870741927504109081022 174710221927001009192324191370624645636445445041 262520421927636477377062796780812735103189797282 774772427967706266658081192781318979102226250001 774770627967807089791022666523241907030417136042 774770627967807089791022262563641727001019077274 774710227967725289797062190763641727001009191216 774710227967706289798070666523241907030417272214 262563641747706219271022091900107987838477676274 262512227775636419277062273580811737811179672042 694712321927232409191022666500107967706267551016 262563647767124219271022091970626764625479675446 774770627967807026256364192772821715204227351022 174710221927001066651202796723240908604277751016 262512226947100219270010091972327757706279678070 694710226665232479676042190700010908015106055041 694772327967706289796364778710222625120217370010 262563647767724219277062694780706764122279672324 262520421737636419271022091900107967706277736254 262563641927706209086042694710027958000189690151 774710227967725289797062262563647973808217272042 694772327967706289798070777363641907100206052042 773770627967807066657282192710022625232429472425 774770627967807089791022262563647973625473752042 262512221907724279677062897980700605636407151002 774770627967636426251022192720421707001009198070 192723247757102279677262897970826947204266656364 262512227967232477872425190710028979604279757051 694712321927232466651022796700100919706267558081 190710227747725279677062897963641727001009191216 262563647767204279877062897980707975728275351022 774770627967807089791242173772766665000219270232 773770627967807066651002192700011707013109190304 774772427967706289798081192781312625102279751216 666510221927000117076042091912021915232479677051 262563641927706229471002798760428988728288388070 694710222625724279677062192780708979707477877479 294710026665000179676042778763646564016189796164 694772326665706277578070796723241927102217132234 694770626665728279678070897970747787747967791242 666510227967232477877062897980701757604219272234 666510227967232469476042190700017787706289798070 262512227747204219076364796770628979807079757282 694710226665232479672234594872321907706267751215 694712320908102208387062190700100605101438351454 694763641907706209086042795810226665646589696254 694710226665232479672234594872321907706289791216 262570621927636409086042086872707987100266656465 774770627967807089791022666523241727304119072214 694763641927706217071022091900102625808179671217 694712320908100208386042060500101907101438337051 694712321927232466651022796700100919706267551016 666560427757232479677062897980701713102213231217 262563641927706217071022091900107747807079672042 774770627967102289798070262563647973304119277282 774770627967807089796364797310224645304119272324 774772427967706219271022262580706665000127350131 774770627967807089796364797310222625728273706270 262512226947100219277242271542465948464515032221 796763642625706219278081170710020919001077878121 774772428988424639481242192746447967102209190010 774710227967706226256364192712164645807089882042 774770627967807089791242797310221927001009191016 774770627967807089791022190723247975636417272214 666572621747604219270001796701710919705177871002 694763647767604279871002192783841707001007032324 774770627967102226256364192712164645807089882042 694763642625706219271002090860420868727066656465 694772521907706209081022795812028979001077671014 796763641737100219270010091970626947122219100210 774772427967706289791022192763642625000117150131 774772427967706289798081594881311737102219270010 694772322625706279878070897970747767744419272042 774710227967808189798131262531341927708279750001 694772522625706279676364897920421927808117078131 694772427967706289798070666512327773102219070010 694763641907706209081022795800018969625466657262 192723246665102279670001778770628979807079737282 262512227747604219071002091900017967015189795041 774770627967102289798070262563641907121646452042 694710226665232479672234594872321907706277743426 774770627967807066652324171360428979102213230304 774772427967706289798081192781316665100267551222 774770626665232479678070897910221727304119072214 796763642625706219276042694710020908000108580131 192723246665102279670001778760428979725209080161 192723246665102279676042778722348979705109081222 774770627967807089791022666523241907000117132214 694763647767604279878384897910027975000119277282 774770627967102289798070190763641727121479736254 774770626665807079672324897910221907000117132214 796763642625706219278081170710020919001077736254 192723247747102279677062898880708838728246455041 773772427967706259488070694710228959232419077074 192723246665102279677082170720420919121419153041 774770627967636426258070192710228988204288587274 774772427967706289796364190710220908232408383041 774770627967807026256364192712428988102209190001 773772427967706289791022262580811927813139484344 774770627967807089796364262510221927121679757282 262572327967706289796364192710027787121627351666 774772427967706289796364192710227975807075252002 262572427967706289798070777363641747122219272324 774770627967636489798070797310221927625446456465 666572621927636417076465798712420919102289797082 262512227967100277870010897970621907807009191014 262512226947100219277242091970627757807017070010 694712521927102209192324666560427967001059487082 694772327967706289796364778720421907102226251202 694720426665232479671022190770820908808108388151 666572621747124219277082091980707967636419146263 774770627967807089791022190723241727221479730001 262563647767204279877062897980701747727619273041 262563641747102219277062091900107987604289885041 262520421927636479877062775780708979727769471031 774710227967725289797062666523241907604217370010 694712321927232409081022083870626665001017075041 775720427967808189798151594870821747838419275154 694712421927102209190010796710141707141927192324 774770622625808179672042192723242524812127351031 774770627967807026257282192763642735124289881022 774770627967807089791022666523241713604219272214 774770627967807089791022262563641727727419071211 262563641927706217071022091900107747807079676042 774770627967807089796364797310222625625417370001 774772427967706289888070883870741927504166657454 774770627967807089797276666512426755000119270151 694720421737102226256364192700100919706279678081 294772527967636489797062778710222625120219270010 773770627967807066651002897900011907013139483134 262572427967706289796364778710221927000117150151 774770627967636489797274262510221927121179751161 774770627967807089792324190710221727221479732042 262563647767724219277062694710020908807008381222 774770627967636489797274262510221927121179786042 694772327967636489797062262520421927100209080020 774770627967807089791022666523241907604217272214 774770627967807089791022173700101927636479737282 192723247757706266658070796710228979204217132214 774770627967807089796364797310221927625446456465 774770627967807089796364797310221927625426252042 774710227967725289887062192780700908304188587074 262512227747604219071002091900107967101489797051 774772427967706289796364797580707535102235332002 192723246665102279670001898860420908221417151215 774770627967636489798070192772760908102226251216 773772427967706259488081694781318959102259536364 774770627967807089791022262563647973000117272042 694763641927706217071002091900106665646519156042 262572327967706289796364778710021927604279750001 774770627967807089791022190772766665232417272234 774770627967807089792324190710221737727466650010 262520421737708219277262774780707967707409197434 262520427747706279676364192710228979807079736254 774710227967725219077062172780702625707509190010 796763641907706209081022060523240715121777178070 774772427967706289798081666581311927100239483135 774770627967636489798070797310222625625419270001 694763642625604219271002090800010858013179677062 774712427967706289798070797372827370627019271022 773772427967706289798081192781315948102217152324 774770627967807089791022262563641927121679751666 773770627967807066657282192723241713604229471022 774772427967706289798081797363647363813139483134 774710227967725289797062666580816755525949598151 773772427967706259488070190710226947232489597074 774710227967725289797062666580811713232419076042 262563641927706209086042774710227967121689798070 774770627967807089796364797310221907625473752042 262520421737636419271022091900107967706277736274 262520421927636417077062091910317737625479672324 774770627967807026256364192772828988102288582042 774772427967706289798081666581311927100267553135 262563647767724219277062294710023948122227158070 774770627967807089791022190723241727221479732042 774770627967232489798070666510221907727609082042 774710222625120219270010091910141707147479676042 262512227967232419072425174760427775705146451002 294760422625636419277062798712327757102289798070 192723246665102279670001778770628979807079736042 694772527967708289791242192710220919001017138070 262570621927636477478070796710222735728289882042 174710222625636419277062091900107987838477676274 694772326665706277578070796710021927707489881222 773772427967706259488070694710228959120219270010 774710227967808189797082192781312625725239483136 774770626665807079672324897910221907604279730001 774770627967807089791022262563647973604219270001 192723246665102279670001090860420858705177878070 694763641927100226256042090800010868013179877062 774770627967807026256364192772821715204289881022 774770627967808189797271192720421707711179752324 774770627967636426258070192710228988604288585041 694712321927232409191022796700106665706259487276 774770627967232489798070666510221907000117132214 262572427967706289796364192780706947102209084344 774770627967807089796364797310221927304109086254 774710222625725219277062273520421707807009191202 192723246665102279677276677570622947762689886042 774710227967808189797082192772521707001009191216 262512227747706279672324190724258979807079752221 774770627967807089796364797310222625204219273041 262512227747724279677062897910021737001019271016 774710227967725289797062797380707363707226251211 694772427967706289798070666570761927766679694344 694772527967636489797062262580701927102277732324 774772427967706289796364192710222625121627351666 774772427967808189797062192781312625102279750001 774770627967807026256364192710221715121189886042 774770627967807089791022262563647973121646452042 774770627967807089796364797310224645232445443041 775763647987724219277062897923247975807075354252 774770627967807089791022190763647973625409086465 774770627967807089791022666523241907727617272234 262560427967636477877062897980707973728273706270 774770627967807019272324897910220908204208387276 773770627967807066657282694710020605000119077074 694763642625604219271002090800010858706227151232 262512227747204219077062796780706665728289797079 694772321907706209088070083810227987232489797074 774770627967807089796364797310224645232419271213 774770627967807019272324170710220919001019136364 774770627967636489798070797310221737232419071213 774770627967807089791022262563647973728273706270 774710227967725266658081897970826755204226258131 262512227747204279678081173781111927103127357082 774770627967807089791022190763641727001026251216 262512221747724219277062091910027967807089797075 694772322625706219278070273520421737323777371002 262570626665122219077282774780707967222509191022 774772427967706266658081897981311927232479743132 774770627967807089796364797310221907728273637072 262512227747724279677062897910021927001009198081 262572427967706289798081778781311927102217074344 694710226665232479670001190760420908705108588060 294712421927102209192324666570827967808186857252 694720421927232417071022091900101913636477677062 774710227967725289797062262563641713204246453041 694770627967636426252042192710312735727517376465 774770627967807089796364797310224645304145442324 774772428988706288388070796770741927504109081022 773772427967706289791022192723247975807075706270 694720421907708217377252091980708685100279877074 262512227747204219077062796763648979807079757282 666560427747705119076364656480600908606408585163 774772428988706288388070796750411927707466651022\".split(\" \")\n\n//# sourceURL=webpack:///./js/gambit.js?");

/***/ }),

/***/ "./js/play.js":
/*!********************!*\
  !*** ./js/play.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\r\nvar play = play||{};\r\nwindow.play=play;\r\n\r\nplay.init = function (){\r\n\t\r\n\tplay.my\t\t\t\t=\t1;\t\t\t\t//玩家方\r\n\tplay.map \t\t\t=\tcom.arr2Clone (com.initMap);\t\t//初始化棋盘\r\n\tplay.nowManKey\t\t=\tfalse;\t\t\t//现在要操作的棋子\r\n\tplay.pace \t\t\t=\t[];\t\t\t\t//记录每一步\r\n\tplay.isPlay \t\t=\ttrue ;\t\t\t//是否能走棋\r\n\tplay.mans \t\t\t=\tcom.mans;\r\n\tplay.bylaw \t\t\t= \tcom.bylaw;\r\n\tplay.show \t\t\t= \tcom.show;\r\n\tplay.showPane \t\t= \tcom.showPane;\r\n\tplay.isOffensive\t=\ttrue;\t\t\t//是否先手\r\n\tplay.depth\t\t\t=\tplay.depth || 3;\t\t\t\t//搜索深度\r\n\t\r\n\tplay.isFoul\t\t\t=\tfalse;\t//是否犯规长将\r\n\t\r\n\t\r\n\t\r\n\tcom.pane.isShow\t\t=\t false;\t\t\t//隐藏方块\r\n\t\r\n\t//初始化棋子\r\n\tfor (var i=0; i<play.map.length; i++){\r\n\t\tfor (var n=0; n<play.map[i].length; n++){\r\n\t\t\tvar key = play.map[i][n];\r\n\t\t\tif (key){\r\n\t\t\t\tcom.mans[key].x=n;\r\n\t\t\t\tcom.mans[key].y=i;\r\n\t\t\t\tcom.mans[key].isShow = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tplay.show();\r\n\t\r\n\t//绑定点击事件\r\n\tcom.canvas.addEventListener(\"click\",play.clickCanvas)\r\n\t//clearInterval(play.timer);\r\n\t//com.get(\"autoPlay\").addEventListener(\"click\", function(e) {\r\n\t\t//clearInterval(play.timer);\r\n\t\t//play.timer = setInterval(\"play.AIPlay()\",1000);\r\n\t//\tplay.AIPlay()\r\n\t//})\r\n\t/*\r\n\tcom.get(\"offensivePlay\").addEventListener(\"click\", function(e) {\r\n\t\tplay.isOffensive=true;\r\n\t\tplay.isPlay=true ;\t\r\n\t\tcom.get(\"chessRight\").style.display = \"none\";\r\n\t\tplay.init();\r\n\t})\r\n\t\r\n\tcom.get(\"defensivePlay\").addEventListener(\"click\", function(e) {\r\n\t\tplay.isOffensive=false;\r\n\t\tplay.isPlay=true ;\t\r\n\t\tcom.get(\"chessRight\").style.display = \"none\";\r\n\t\tplay.init();\r\n\t})\r\n\t*/\r\n\t\r\n\t\r\n\t// com.get(\"regretBn\").addEventListener(\"click\", function(e) {\r\n\t// \tplay.regret();\r\n\t// })\r\n\t\r\n\t/*\r\n\tvar initTime = new Date().getTime();\r\n\tfor (var i=0; i<=100000; i++){\r\n\t\t\r\n\t\tvar h=\"\"\r\n\t\tvar h=play.map.join();\r\n\t\t//for (var n in play.mans){\r\n\t\t//\tif (play.mans[n].show) h+=play.mans[n].key+play.mans[n].x+play.mans[n].y\r\n\t\t//}\r\n\t}\r\n\tvar nowTime= new Date().getTime();\r\n\tz([h,nowTime-initTime])\r\n\t*/\r\n\t\r\n}\r\n\r\n\r\n\r\n//悔棋\r\nplay.regret = function (){\r\n\tvar map  = com.arr2Clone(com.initMap);\r\n\t//初始化所有棋子\r\n\tfor (var i=0; i<map.length; i++){\r\n\t\tfor (var n=0; n<map[i].length; n++){\r\n\t\t\tvar key = map[i][n];\r\n\t\t\tif (key){\r\n\t\t\t\tcom.mans[key].x=n;\r\n\t\t\t\tcom.mans[key].y=i;\r\n\t\t\t\tcom.mans[key].isShow = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar pace= play.pace;\r\n\tpace.pop();\r\n\tpace.pop();\r\n\t\r\n\tfor (var i=0; i<pace.length; i++){\r\n\t\tvar p= pace[i].split(\"\")\r\n\t\tvar x = parseInt(p[0], 10);\r\n\t\tvar y = parseInt(p[1], 10);\r\n\t\tvar newX = parseInt(p[2], 10);\r\n\t\tvar newY = parseInt(p[3], 10);\r\n\t\tvar key=map[y][x];\r\n\t\t//try{\r\n\t \r\n\t\tvar cMan=map[newY][newX];\r\n\t\tif (cMan) com.mans[map[newY][newX]].isShow = false;\r\n\t\tcom.mans[key].x = newX;\r\n\t\tcom.mans[key].y = newY;\r\n\t\tmap[newY][newX] = key;\r\n\t\tdelete map[y][x];\r\n\t\tif (i==pace.length-1){\r\n\t\t\tcom.showPane(newX ,newY,x,y)\t\r\n\t\t}\r\n\t\t//} catch (e){\r\n\t\t//\tcom.show()\r\n\t\t//\tz([key,p,pace,map])\r\n\t\t\t\r\n\t\t//\t}\r\n\t}\r\n\tplay.map = map;\r\n\tplay.my=1;\r\n\tplay.isPlay=true;\r\n\tcom.show();\r\n}\r\n\r\n\r\n\r\n//点击棋盘事件\r\nplay.clickCanvas = function (e){\r\n\tif (!play.isPlay) return false;\r\n\tvar key = play.getClickMan(e);\r\n\tvar point = play.getClickPoint(e);\r\n\t\r\n\tvar x = point.x;\r\n\tvar y = point.y;\r\n\t\r\n\tif (key){\r\n\t\tplay.clickMan(key,x,y);\t\r\n\t}else {\r\n\t\tplay.clickPoint(x,y);\t\r\n\t}\r\n\tplay.isFoul = play.checkFoul();//检测是不是长将\r\n}\r\n\r\n//点击棋子，两种情况，选中或者吃子\r\nplay.clickMan = function (key,x,y){\r\n\tvar man = com.mans[key];\r\n\t//吃子\r\n\tif (play.nowManKey&&play.nowManKey != key && man.my != com.mans[play.nowManKey ].my){\r\n\t\t//man为被吃掉的棋子\r\n\t\tif (play.indexOfPs(com.mans[play.nowManKey].ps,[x,y])){\r\n\t\t\tman.isShow = false;\r\n\t\t\tvar pace=com.mans[play.nowManKey].x+\"\"+com.mans[play.nowManKey].y\r\n\t\t\t//z(bill.createMove(play.map,man.x,man.y,x,y))\r\n\t\t\tdelete play.map[com.mans[play.nowManKey].y][com.mans[play.nowManKey].x];\r\n\t\t\tplay.map[y][x] = play.nowManKey;\r\n\t\t\tcom.showPane(com.mans[play.nowManKey].x ,com.mans[play.nowManKey].y,x,y)\r\n\t\t\tcom.mans[play.nowManKey].x = x;\r\n\t\t\tcom.mans[play.nowManKey].y = y;\r\n\t\t\tcom.mans[play.nowManKey].alpha = 1\r\n\t\t\t\r\n\t\t\tplay.pace.push(pace+x+y);\r\n\t\t\tplay.nowManKey = false;\r\n\t\t\tcom.pane.isShow = false;\r\n\t\t\tcom.dot.dots = [];\r\n\t\t\tcom.show()\r\n\t\t\t// com.get(\"clickAudio\").play();\r\n\t\t\tsetTimeout(\"play.AIPlay()\",500);\r\n\t\t\tif (key == \"j0\") play.showWin (-1);\r\n\t\t\tif (key == \"J0\") play.showWin (1);\r\n\t\t}\r\n\t// 选中棋子\r\n\t}else{\r\n\t\tif (man.my===1){\r\n\t\t\tif (com.mans[play.nowManKey]) com.mans[play.nowManKey].alpha = 1 ;\r\n\t\t\tman.alpha = 0.6;\r\n\t\t\tcom.pane.isShow = false;\r\n\t\t\tplay.nowManKey = key;\r\n\t\t\tcom.mans[key].ps = com.mans[key].bl(); //获得所有能着点\r\n\t\t\tcom.dot.dots = com.mans[key].ps\r\n\t\t\tcom.show();\r\n\t\t\t//com.get(\"selectAudio\").start(0);\r\n\t\t\t// com.get(\"selectAudio\").play();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//点击着点\r\nplay.clickPoint = function (x,y){\r\n\tvar key=play.nowManKey;\r\n\tvar man=com.mans[key];\r\n\tif (play.nowManKey){\r\n\t\tif (play.indexOfPs(com.mans[key].ps,[x,y])){\r\n\t\t\tvar pace=man.x+\"\"+man.y\r\n\t\t\t//z(bill.createMove(play.map,man.x,man.y,x,y))\r\n\t\t\tdelete play.map[man.y][man.x];\r\n\t\t\tplay.map[y][x] = key;\r\n\t\t\tcom.showPane(man.x ,man.y,x,y)\r\n\t\t\tman.x = x;\r\n\t\t\tman.y = y;\r\n\t\t\tman.alpha = 1;\r\n\t\t\tplay.pace.push(pace+x+y);\r\n\t\t\tplay.nowManKey = false;\r\n\t\t\tcom.dot.dots = [];\r\n\t\t\tcom.show();\r\n\t\t\t// com.get(\"clickAudio\").play();\r\n\t\t\tsetTimeout(\"play.AIPlay()\",500);\r\n\t\t}else{\r\n\t\t\t//alert(\"不能这么走哦！\")\t\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n//Ai自动走棋\r\nplay.AIPlay = function (){\r\n\t//return\r\n\tplay.my = -1 ;\r\n\tvar pace=AI.init(play.pace.join(\"\"))\r\n\tif (!pace) {\r\n\t\tplay.showWin (1);\r\n\t\treturn ;\r\n\t}\r\n\tplay.pace.push(pace.join(\"\"));\r\n\tvar key=play.map[pace[1]][pace[0]]\r\n\t\tplay.nowManKey = key;\r\n\t\r\n\tvar key=play.map[pace[3]][pace[2]];\r\n\tif (key){\r\n\t\tplay.AIclickMan(key,pace[2],pace[3]);\t\r\n\t}else {\r\n\t\tplay.AIclickPoint(pace[2],pace[3]);\t\r\n\t}\r\n\t// com.get(\"clickAudio\").play();\r\n\t\r\n\t\r\n}\r\n\r\n//检查是否长将\r\nplay.checkFoul = function(){\r\n\tvar p=play.pace;\r\n\tvar len=parseInt(p.length,10);\r\n\tif (len>11&&p[len-1] == p[len-5] &&p[len-5] == p[len-9]){\r\n\t\treturn p[len-4].split(\"\");\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n\r\n\r\nplay.AIclickMan = function (key,x,y){\r\n\tvar man = com.mans[key];\r\n\t//吃子\r\n\tman.isShow = false;\r\n\tdelete play.map[com.mans[play.nowManKey].y][com.mans[play.nowManKey].x];\r\n\tplay.map[y][x] = play.nowManKey;\r\n\tplay.showPane(com.mans[play.nowManKey].x ,com.mans[play.nowManKey].y,x,y)\r\n\t\r\n\tcom.mans[play.nowManKey].x = x;\r\n\tcom.mans[play.nowManKey].y = y;\r\n\tplay.nowManKey = false;\r\n\t\r\n\tcom.show()\r\n\tif (key == \"j0\") play.showWin (-1);\r\n\tif (key == \"J0\") play.showWin (1);\r\n}\r\n\r\nplay.AIclickPoint = function (x,y){\r\n\tvar key=play.nowManKey;\r\n\tvar man=com.mans[key];\r\n\tif (play.nowManKey){\r\n\t\tdelete play.map[com.mans[play.nowManKey].y][com.mans[play.nowManKey].x];\r\n\t\tplay.map[y][x] = key;\r\n\t\t\r\n\t\tcom.showPane(man.x,man.y,x,y)\r\n\t\t\r\n\t\r\n\t\tman.x = x;\r\n\t\tman.y = y;\r\n\t\tplay.nowManKey = false;\r\n\t\t\r\n\t}\r\n\tcom.show();\r\n}\r\n\r\n\r\nplay.indexOfPs = function (ps,xy){\r\n\tfor (var i=0; i<ps.length; i++){\r\n\t\tif (ps[i][0]==xy[0]&&ps[i][1]==xy[1]) return true;\r\n\t}\r\n\treturn false;\r\n\t\r\n}\r\n\r\n//获得点击的着点\r\nplay.getClickPoint = function (e){\r\n\tvar domXY = com.getDomXY(com.canvas);\r\n\tvar x=Math.round((e.pageX-domXY.x-com.pointStartX-20)/com.spaceX)\r\n\tvar y=Math.round((e.pageY-domXY.y-com.pointStartY-20)/com.spaceY)\r\n\treturn {\"x\":x,\"y\":y}\r\n}\r\n\r\n//获得棋子\r\nplay.getClickMan = function (e){\r\n\tvar clickXY=play.getClickPoint(e);\r\n\tvar x=clickXY.x;\r\n\tvar y=clickXY.y;\r\n\tif (x < 0 || x>8 || y < 0 || y > 9) return false;\r\n\treturn (play.map[y][x] && play.map[y][x]!=\"0\") ? play.map[y][x] : false;\r\n}\r\n\r\nplay.showWin = function (my){\r\n\tplay.isPlay = false;\r\n\tif (my===1){\r\n\t\talert(\"恭喜你，你赢了！\");\r\n\t}else{\r\n\t\talert(\"很遗憾，你输了！\");\r\n\t}\r\n\r\n\tsetTimeout(()=>{\r\n\t\tcom.finishedOne()\r\n\t},2000)\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./js/play.js?");

/***/ }),

/***/ "./node_modules/bignumber.js/bignumber.js":
/*!************************************************!*\
  !*** ./node_modules/bignumber.js/bignumber.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*! bignumber.js v5.0.0 https://github.com/MikeMcl/bignumber.js/LICENCE */\r\n\r\n;(function (globalObj) {\r\n    'use strict';\r\n\r\n    /*\r\n      bignumber.js v5.0.0\r\n      A JavaScript library for arbitrary-precision arithmetic.\r\n      https://github.com/MikeMcl/bignumber.js\r\n      Copyright (c) 2017 Michael Mclaughlin <M8ch88l@gmail.com>\r\n      MIT Expat Licence\r\n    */\r\n\r\n\r\n    var BigNumber,\r\n        isNumeric = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,\r\n        mathceil = Math.ceil,\r\n        mathfloor = Math.floor,\r\n        notBool = ' not a boolean or binary digit',\r\n        roundingMode = 'rounding mode',\r\n        tooManyDigits = 'number type has more than 15 significant digits',\r\n        ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_',\r\n        BASE = 1e14,\r\n        LOG_BASE = 14,\r\n        MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n        // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n        POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n        SQRT_BASE = 1e7,\r\n\r\n        /*\r\n         * The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n         * the arguments to toExponential, toFixed, toFormat, and toPrecision, beyond which an\r\n         * exception is thrown (if ERRORS is true).\r\n         */\r\n        MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n    /*\r\n     * Create and return a BigNumber constructor.\r\n     */\r\n    function constructorFactory(config) {\r\n        var div, parseNumeric,\r\n\r\n            // id tracks the caller function, so its name can be included in error messages.\r\n            id = 0,\r\n            P = BigNumber.prototype,\r\n            ONE = new BigNumber(1),\r\n\r\n\r\n            /********************************* EDITABLE DEFAULTS **********************************/\r\n\r\n\r\n            /*\r\n             * The default values below must be integers within the inclusive ranges stated.\r\n             * The values can also be changed at run-time using BigNumber.config.\r\n             */\r\n\r\n            // The maximum number of decimal places for operations involving division.\r\n            DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n            /*\r\n             * The rounding mode used when rounding to the above decimal places, and when using\r\n             * toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n             * UP         0 Away from zero.\r\n             * DOWN       1 Towards zero.\r\n             * CEIL       2 Towards +Infinity.\r\n             * FLOOR      3 Towards -Infinity.\r\n             * HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n             * HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n             * HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n             * HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n             * HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n             */\r\n            ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n            // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n            // The exponent value at and beneath which toString returns exponential notation.\r\n            // Number type: -7\r\n            TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n            // The exponent value at and above which toString returns exponential notation.\r\n            // Number type: 21\r\n            TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n            // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n            // The minimum exponent value, beneath which underflow to zero occurs.\r\n            // Number type: -324  (5e-324)\r\n            MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n            // The maximum exponent value, above which overflow to Infinity occurs.\r\n            // Number type:  308  (1.7976931348623157e+308)\r\n            // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n            MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n            // Whether BigNumber Errors are ever thrown.\r\n            ERRORS = true,                           // true or false\r\n\r\n            // Change to intValidatorNoErrors if ERRORS is false.\r\n            isValidInt = intValidatorWithErrors,     // intValidatorWithErrors/intValidatorNoErrors\r\n\r\n            // Whether to use cryptographically-secure random number generation, if available.\r\n            CRYPTO = false,                          // true or false\r\n\r\n            /*\r\n             * The modulo mode used when calculating the modulus: a mod n.\r\n             * The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n             * The remainder (r) is calculated as: r = a - n * q.\r\n             *\r\n             * UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n             * DOWN      1 The remainder has the same sign as the dividend.\r\n             *             This modulo mode is commonly known as 'truncated division' and is\r\n             *             equivalent to (a % n) in JavaScript.\r\n             * FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n             * HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n             * EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n             *             The remainder is always positive.\r\n             *\r\n             * The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n             * modes are commonly used for the modulus operation.\r\n             * Although the other rounding modes can also be used, they may not give useful results.\r\n             */\r\n            MODULO_MODE = 1,                         // 0 to 9\r\n\r\n            // The maximum number of significant digits of the result of the toPower operation.\r\n            // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n            POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n            // The format specification used by the BigNumber.prototype.toFormat method.\r\n            FORMAT = {\r\n                decimalSeparator: '.',\r\n                groupSeparator: ',',\r\n                groupSize: 3,\r\n                secondaryGroupSize: 0,\r\n                fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n                fractionGroupSize: 0\r\n            };\r\n\r\n\r\n        /******************************************************************************************/\r\n\r\n\r\n        // CONSTRUCTOR\r\n\r\n\r\n        /*\r\n         * The BigNumber constructor and exported function.\r\n         * Create and return a new instance of a BigNumber object.\r\n         *\r\n         * n {number|string|BigNumber} A numeric value.\r\n         * [b] {number} The base of n. Integer, 2 to 64 inclusive.\r\n         */\r\n        function BigNumber( n, b ) {\r\n            var c, e, i, num, len, str,\r\n                x = this;\r\n\r\n            // Enable constructor usage without new.\r\n            if ( !( x instanceof BigNumber ) ) {\r\n\r\n                // 'BigNumber() constructor call without new: {n}'\r\n                // See GitHub issue: #81.\r\n                //if (ERRORS) raise( 26, 'constructor call without new', n );\r\n                return new BigNumber( n, b );\r\n            }\r\n\r\n            // 'new BigNumber() base not an integer: {b}'\r\n            // 'new BigNumber() base out of range: {b}'\r\n            if ( b == null || !isValidInt( b, 2, 64, id, 'base' ) ) {\r\n\r\n                // Duplicate.\r\n                if ( n instanceof BigNumber ) {\r\n                    x.s = n.s;\r\n                    x.e = n.e;\r\n                    x.c = ( n = n.c ) ? n.slice() : n;\r\n                    id = 0;\r\n                    return;\r\n                }\r\n\r\n                if ( ( num = typeof n == 'number' ) && n * 0 == 0 ) {\r\n                    x.s = 1 / n < 0 ? ( n = -n, -1 ) : 1;\r\n\r\n                    // Fast path for integers.\r\n                    if ( n === ~~n ) {\r\n                        for ( e = 0, i = n; i >= 10; i /= 10, e++ );\r\n                        x.e = e;\r\n                        x.c = [n];\r\n                        id = 0;\r\n                        return;\r\n                    }\r\n\r\n                    str = n + '';\r\n                } else {\r\n                    if ( !isNumeric.test( str = n + '' ) ) return parseNumeric( x, str, num );\r\n                    x.s = str.charCodeAt(0) === 45 ? ( str = str.slice(1), -1 ) : 1;\r\n                }\r\n            } else {\r\n                b = b | 0;\r\n                str = n + '';\r\n\r\n                // Ensure return value is rounded to DECIMAL_PLACES as with other bases.\r\n                // Allow exponential notation to be used with base 10 argument.\r\n                if ( b == 10 ) {\r\n                    x = new BigNumber( n instanceof BigNumber ? n : str );\r\n                    return round( x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE );\r\n                }\r\n\r\n                // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n                // Any number in exponential form will fail due to the [Ee][+-].\r\n                if ( ( num = typeof n == 'number' ) && n * 0 != 0 ||\r\n                  !( new RegExp( '^-?' + ( c = '[' + ALPHABET.slice( 0, b ) + ']+' ) +\r\n                    '(?:\\\\.' + c + ')?$',b < 37 ? 'i' : '' ) ).test(str) ) {\r\n                    return parseNumeric( x, str, num, b );\r\n                }\r\n\r\n                if (num) {\r\n                    x.s = 1 / n < 0 ? ( str = str.slice(1), -1 ) : 1;\r\n\r\n                    if ( ERRORS && str.replace( /^0\\.0*|\\./, '' ).length > 15 ) {\r\n\r\n                        // 'new BigNumber() number type has more than 15 significant digits: {n}'\r\n                        raise( id, tooManyDigits, n );\r\n                    }\r\n\r\n                    // Prevent later check for length on converted number.\r\n                    num = false;\r\n                } else {\r\n                    x.s = str.charCodeAt(0) === 45 ? ( str = str.slice(1), -1 ) : 1;\r\n                }\r\n\r\n                str = convertBase( str, 10, b, x.s );\r\n            }\r\n\r\n            // Decimal point?\r\n            if ( ( e = str.indexOf('.') ) > -1 ) str = str.replace( '.', '' );\r\n\r\n            // Exponential form?\r\n            if ( ( i = str.search( /e/i ) ) > 0 ) {\r\n\r\n                // Determine exponent.\r\n                if ( e < 0 ) e = i;\r\n                e += +str.slice( i + 1 );\r\n                str = str.substring( 0, i );\r\n            } else if ( e < 0 ) {\r\n\r\n                // Integer.\r\n                e = str.length;\r\n            }\r\n\r\n            // Determine leading zeros.\r\n            for ( i = 0; str.charCodeAt(i) === 48; i++ );\r\n\r\n            // Determine trailing zeros.\r\n            for ( len = str.length; str.charCodeAt(--len) === 48; );\r\n            str = str.slice( i, len + 1 );\r\n\r\n            if (str) {\r\n                len = str.length;\r\n\r\n                // Disallow numbers with over 15 significant digits if number type.\r\n                // 'new BigNumber() number type has more than 15 significant digits: {n}'\r\n                if ( num && ERRORS && len > 15 && ( n > MAX_SAFE_INTEGER || n !== mathfloor(n) ) ) {\r\n                    raise( id, tooManyDigits, x.s * n );\r\n                }\r\n\r\n                e = e - i - 1;\r\n\r\n                 // Overflow?\r\n                if ( e > MAX_EXP ) {\r\n\r\n                    // Infinity.\r\n                    x.c = x.e = null;\r\n\r\n                // Underflow?\r\n                } else if ( e < MIN_EXP ) {\r\n\r\n                    // Zero.\r\n                    x.c = [ x.e = 0 ];\r\n                } else {\r\n                    x.e = e;\r\n                    x.c = [];\r\n\r\n                    // Transform base\r\n\r\n                    // e is the base 10 exponent.\r\n                    // i is where to slice str to get the first element of the coefficient array.\r\n                    i = ( e + 1 ) % LOG_BASE;\r\n                    if ( e < 0 ) i += LOG_BASE;\r\n\r\n                    if ( i < len ) {\r\n                        if (i) x.c.push( +str.slice( 0, i ) );\r\n\r\n                        for ( len -= LOG_BASE; i < len; ) {\r\n                            x.c.push( +str.slice( i, i += LOG_BASE ) );\r\n                        }\r\n\r\n                        str = str.slice(i);\r\n                        i = LOG_BASE - str.length;\r\n                    } else {\r\n                        i -= len;\r\n                    }\r\n\r\n                    for ( ; i--; str += '0' );\r\n                    x.c.push( +str );\r\n                }\r\n            } else {\r\n\r\n                // Zero.\r\n                x.c = [ x.e = 0 ];\r\n            }\r\n\r\n            id = 0;\r\n        }\r\n\r\n\r\n        // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n        BigNumber.another = constructorFactory;\r\n\r\n        BigNumber.ROUND_UP = 0;\r\n        BigNumber.ROUND_DOWN = 1;\r\n        BigNumber.ROUND_CEIL = 2;\r\n        BigNumber.ROUND_FLOOR = 3;\r\n        BigNumber.ROUND_HALF_UP = 4;\r\n        BigNumber.ROUND_HALF_DOWN = 5;\r\n        BigNumber.ROUND_HALF_EVEN = 6;\r\n        BigNumber.ROUND_HALF_CEIL = 7;\r\n        BigNumber.ROUND_HALF_FLOOR = 8;\r\n        BigNumber.EUCLID = 9;\r\n\r\n\r\n        /*\r\n         * Configure infrequently-changing library-wide settings.\r\n         *\r\n         * Accept an object or an argument list, with one or many of the following properties or\r\n         * parameters respectively:\r\n         *\r\n         *   DECIMAL_PLACES  {number}  Integer, 0 to MAX inclusive\r\n         *   ROUNDING_MODE   {number}  Integer, 0 to 8 inclusive\r\n         *   EXPONENTIAL_AT  {number|number[]}  Integer, -MAX to MAX inclusive or\r\n         *                                      [integer -MAX to 0 incl., 0 to MAX incl.]\r\n         *   RANGE           {number|number[]}  Non-zero integer, -MAX to MAX inclusive or\r\n         *                                      [integer -MAX to -1 incl., integer 1 to MAX incl.]\r\n         *   ERRORS          {boolean|number}   true, false, 1 or 0\r\n         *   CRYPTO          {boolean|number}   true, false, 1 or 0\r\n         *   MODULO_MODE     {number}           0 to 9 inclusive\r\n         *   POW_PRECISION   {number}           0 to MAX inclusive\r\n         *   FORMAT          {object}           See BigNumber.prototype.toFormat\r\n         *      decimalSeparator       {string}\r\n         *      groupSeparator         {string}\r\n         *      groupSize              {number}\r\n         *      secondaryGroupSize     {number}\r\n         *      fractionGroupSeparator {string}\r\n         *      fractionGroupSize      {number}\r\n         *\r\n         * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n         *\r\n         * E.g.\r\n         * BigNumber.config(20, 4) is equivalent to\r\n         * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n         *\r\n         * Ignore properties/parameters set to null or undefined.\r\n         * Return an object with the properties current values.\r\n         */\r\n        BigNumber.config = BigNumber.set = function () {\r\n            var v, p,\r\n                i = 0,\r\n                r = {},\r\n                a = arguments,\r\n                o = a[0],\r\n                has = o && typeof o == 'object'\r\n                  ? function () { if ( o.hasOwnProperty(p) ) return ( v = o[p] ) != null; }\r\n                  : function () { if ( a.length > i ) return ( v = a[i++] ) != null; };\r\n\r\n            // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n            // 'config() DECIMAL_PLACES not an integer: {v}'\r\n            // 'config() DECIMAL_PLACES out of range: {v}'\r\n            if ( has( p = 'DECIMAL_PLACES' ) && isValidInt( v, 0, MAX, 2, p ) ) {\r\n                DECIMAL_PLACES = v | 0;\r\n            }\r\n            r[p] = DECIMAL_PLACES;\r\n\r\n            // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n            // 'config() ROUNDING_MODE not an integer: {v}'\r\n            // 'config() ROUNDING_MODE out of range: {v}'\r\n            if ( has( p = 'ROUNDING_MODE' ) && isValidInt( v, 0, 8, 2, p ) ) {\r\n                ROUNDING_MODE = v | 0;\r\n            }\r\n            r[p] = ROUNDING_MODE;\r\n\r\n            // EXPONENTIAL_AT {number|number[]}\r\n            // Integer, -MAX to MAX inclusive or [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n            // 'config() EXPONENTIAL_AT not an integer: {v}'\r\n            // 'config() EXPONENTIAL_AT out of range: {v}'\r\n            if ( has( p = 'EXPONENTIAL_AT' ) ) {\r\n\r\n                if ( isArray(v) ) {\r\n                    if ( isValidInt( v[0], -MAX, 0, 2, p ) && isValidInt( v[1], 0, MAX, 2, p ) ) {\r\n                        TO_EXP_NEG = v[0] | 0;\r\n                        TO_EXP_POS = v[1] | 0;\r\n                    }\r\n                } else if ( isValidInt( v, -MAX, MAX, 2, p ) ) {\r\n                    TO_EXP_NEG = -( TO_EXP_POS = ( v < 0 ? -v : v ) | 0 );\r\n                }\r\n            }\r\n            r[p] = [ TO_EXP_NEG, TO_EXP_POS ];\r\n\r\n            // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n            // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n            // 'config() RANGE not an integer: {v}'\r\n            // 'config() RANGE cannot be zero: {v}'\r\n            // 'config() RANGE out of range: {v}'\r\n            if ( has( p = 'RANGE' ) ) {\r\n\r\n                if ( isArray(v) ) {\r\n                    if ( isValidInt( v[0], -MAX, -1, 2, p ) && isValidInt( v[1], 1, MAX, 2, p ) ) {\r\n                        MIN_EXP = v[0] | 0;\r\n                        MAX_EXP = v[1] | 0;\r\n                    }\r\n                } else if ( isValidInt( v, -MAX, MAX, 2, p ) ) {\r\n                    if ( v | 0 ) MIN_EXP = -( MAX_EXP = ( v < 0 ? -v : v ) | 0 );\r\n                    else if (ERRORS) raise( 2, p + ' cannot be zero', v );\r\n                }\r\n            }\r\n            r[p] = [ MIN_EXP, MAX_EXP ];\r\n\r\n            // ERRORS {boolean|number} true, false, 1 or 0.\r\n            // 'config() ERRORS not a boolean or binary digit: {v}'\r\n            if ( has( p = 'ERRORS' ) ) {\r\n\r\n                if ( v === !!v || v === 1 || v === 0 ) {\r\n                    id = 0;\r\n                    isValidInt = ( ERRORS = !!v ) ? intValidatorWithErrors : intValidatorNoErrors;\r\n                } else if (ERRORS) {\r\n                    raise( 2, p + notBool, v );\r\n                }\r\n            }\r\n            r[p] = ERRORS;\r\n\r\n            // CRYPTO {boolean|number} true, false, 1 or 0.\r\n            // 'config() CRYPTO not a boolean or binary digit: {v}'\r\n            // 'config() crypto unavailable: {crypto}'\r\n            if ( has( p = 'CRYPTO' ) ) {\r\n\r\n                if ( v === true || v === false || v === 1 || v === 0 ) {\r\n                    if (v) {\r\n                        v = typeof crypto == 'undefined';\r\n                        if ( !v && crypto && (crypto.getRandomValues || crypto.randomBytes)) {\r\n                            CRYPTO = true;\r\n                        } else if (ERRORS) {\r\n                            raise( 2, 'crypto unavailable', v ? void 0 : crypto );\r\n                        } else {\r\n                            CRYPTO = false;\r\n                        }\r\n                    } else {\r\n                        CRYPTO = false;\r\n                    }\r\n                } else if (ERRORS) {\r\n                    raise( 2, p + notBool, v );\r\n                }\r\n            }\r\n            r[p] = CRYPTO;\r\n\r\n            // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n            // 'config() MODULO_MODE not an integer: {v}'\r\n            // 'config() MODULO_MODE out of range: {v}'\r\n            if ( has( p = 'MODULO_MODE' ) && isValidInt( v, 0, 9, 2, p ) ) {\r\n                MODULO_MODE = v | 0;\r\n            }\r\n            r[p] = MODULO_MODE;\r\n\r\n            // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n            // 'config() POW_PRECISION not an integer: {v}'\r\n            // 'config() POW_PRECISION out of range: {v}'\r\n            if ( has( p = 'POW_PRECISION' ) && isValidInt( v, 0, MAX, 2, p ) ) {\r\n                POW_PRECISION = v | 0;\r\n            }\r\n            r[p] = POW_PRECISION;\r\n\r\n            // FORMAT {object}\r\n            // 'config() FORMAT not an object: {v}'\r\n            if ( has( p = 'FORMAT' ) ) {\r\n\r\n                if ( typeof v == 'object' ) {\r\n                    FORMAT = v;\r\n                } else if (ERRORS) {\r\n                    raise( 2, p + ' not an object', v );\r\n                }\r\n            }\r\n            r[p] = FORMAT;\r\n\r\n            return r;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the maximum of the arguments.\r\n         *\r\n         * arguments {number|string|BigNumber}\r\n         */\r\n        BigNumber.max = function () { return maxOrMin( arguments, P.lt ); };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the minimum of the arguments.\r\n         *\r\n         * arguments {number|string|BigNumber}\r\n         */\r\n        BigNumber.min = function () { return maxOrMin( arguments, P.gt ); };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n         * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n         * zeros are produced).\r\n         *\r\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n         *\r\n         * 'random() decimal places not an integer: {dp}'\r\n         * 'random() decimal places out of range: {dp}'\r\n         * 'random() crypto unavailable: {crypto}'\r\n         */\r\n        BigNumber.random = (function () {\r\n            var pow2_53 = 0x20000000000000;\r\n\r\n            // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n            // Check if Math.random() produces more than 32 bits of randomness.\r\n            // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n            // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n            var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n              ? function () { return mathfloor( Math.random() * pow2_53 ); }\r\n              : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n                  (Math.random() * 0x800000 | 0); };\r\n\r\n            return function (dp) {\r\n                var a, b, e, k, v,\r\n                    i = 0,\r\n                    c = [],\r\n                    rand = new BigNumber(ONE);\r\n\r\n                dp = dp == null || !isValidInt( dp, 0, MAX, 14 ) ? DECIMAL_PLACES : dp | 0;\r\n                k = mathceil( dp / LOG_BASE );\r\n\r\n                if (CRYPTO) {\r\n\r\n                    // Browsers supporting crypto.getRandomValues.\r\n                    if (crypto.getRandomValues) {\r\n\r\n                        a = crypto.getRandomValues( new Uint32Array( k *= 2 ) );\r\n\r\n                        for ( ; i < k; ) {\r\n\r\n                            // 53 bits:\r\n                            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n                            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n                            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n                            //                                     11111 11111111 11111111\r\n                            // 0x20000 is 2^21.\r\n                            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n                            // Rejection sampling:\r\n                            // 0 <= v < 9007199254740992\r\n                            // Probability that v >= 9e15, is\r\n                            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n                            if ( v >= 9e15 ) {\r\n                                b = crypto.getRandomValues( new Uint32Array(2) );\r\n                                a[i] = b[0];\r\n                                a[i + 1] = b[1];\r\n                            } else {\r\n\r\n                                // 0 <= v <= 8999999999999999\r\n                                // 0 <= (v % 1e14) <= 99999999999999\r\n                                c.push( v % 1e14 );\r\n                                i += 2;\r\n                            }\r\n                        }\r\n                        i = k / 2;\r\n\r\n                    // Node.js supporting crypto.randomBytes.\r\n                    } else if (crypto.randomBytes) {\r\n\r\n                        // buffer\r\n                        a = crypto.randomBytes( k *= 7 );\r\n\r\n                        for ( ; i < k; ) {\r\n\r\n                            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n                            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n                            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n                            // 0 <= v < 9007199254740992\r\n                            v = ( ( a[i] & 31 ) * 0x1000000000000 ) + ( a[i + 1] * 0x10000000000 ) +\r\n                                  ( a[i + 2] * 0x100000000 ) + ( a[i + 3] * 0x1000000 ) +\r\n                                  ( a[i + 4] << 16 ) + ( a[i + 5] << 8 ) + a[i + 6];\r\n\r\n                            if ( v >= 9e15 ) {\r\n                                crypto.randomBytes(7).copy( a, i );\r\n                            } else {\r\n\r\n                                // 0 <= (v % 1e14) <= 99999999999999\r\n                                c.push( v % 1e14 );\r\n                                i += 7;\r\n                            }\r\n                        }\r\n                        i = k / 7;\r\n                    } else {\r\n                        CRYPTO = false;\r\n                        if (ERRORS) raise( 14, 'crypto unavailable', crypto );\r\n                    }\r\n                }\r\n\r\n                // Use Math.random.\r\n                if (!CRYPTO) {\r\n\r\n                    for ( ; i < k; ) {\r\n                        v = random53bitInt();\r\n                        if ( v < 9e15 ) c[i++] = v % 1e14;\r\n                    }\r\n                }\r\n\r\n                k = c[--i];\r\n                dp %= LOG_BASE;\r\n\r\n                // Convert trailing digits to zeros according to dp.\r\n                if ( k && dp ) {\r\n                    v = POWS_TEN[LOG_BASE - dp];\r\n                    c[i] = mathfloor( k / v ) * v;\r\n                }\r\n\r\n                // Remove trailing elements which are zero.\r\n                for ( ; c[i] === 0; c.pop(), i-- );\r\n\r\n                // Zero?\r\n                if ( i < 0 ) {\r\n                    c = [ e = 0 ];\r\n                } else {\r\n\r\n                    // Remove leading elements which are zero and adjust exponent accordingly.\r\n                    for ( e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n                    // Count the digits of the first element of c to determine leading zeros, and...\r\n                    for ( i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n                    // adjust the exponent accordingly.\r\n                    if ( i < LOG_BASE ) e -= LOG_BASE - i;\r\n                }\r\n\r\n                rand.e = e;\r\n                rand.c = c;\r\n                return rand;\r\n            };\r\n        })();\r\n\r\n\r\n        // PRIVATE FUNCTIONS\r\n\r\n\r\n        // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n        function convertBase( str, baseOut, baseIn, sign ) {\r\n            var d, e, k, r, x, xc, y,\r\n                i = str.indexOf( '.' ),\r\n                dp = DECIMAL_PLACES,\r\n                rm = ROUNDING_MODE;\r\n\r\n            if ( baseIn < 37 ) str = str.toLowerCase();\r\n\r\n            // Non-integer.\r\n            if ( i >= 0 ) {\r\n                k = POW_PRECISION;\r\n\r\n                // Unlimited precision.\r\n                POW_PRECISION = 0;\r\n                str = str.replace( '.', '' );\r\n                y = new BigNumber(baseIn);\r\n                x = y.pow( str.length - i );\r\n                POW_PRECISION = k;\r\n\r\n                // Convert str as if an integer, then restore the fraction part by dividing the\r\n                // result by its base raised to a power.\r\n                y.c = toBaseOut( toFixedPoint( coeffToString( x.c ), x.e ), 10, baseOut );\r\n                y.e = y.c.length;\r\n            }\r\n\r\n            // Convert the number as integer.\r\n            xc = toBaseOut( str, baseIn, baseOut );\r\n            e = k = xc.length;\r\n\r\n            // Remove trailing zeros.\r\n            for ( ; xc[--k] == 0; xc.pop() );\r\n            if ( !xc[0] ) return '0';\r\n\r\n            if ( i < 0 ) {\r\n                --e;\r\n            } else {\r\n                x.c = xc;\r\n                x.e = e;\r\n\r\n                // sign is needed for correct rounding.\r\n                x.s = sign;\r\n                x = div( x, y, dp, rm, baseOut );\r\n                xc = x.c;\r\n                r = x.r;\r\n                e = x.e;\r\n            }\r\n\r\n            d = e + dp + 1;\r\n\r\n            // The rounding digit, i.e. the digit to the right of the digit that may be rounded up.\r\n            i = xc[d];\r\n            k = baseOut / 2;\r\n            r = r || d < 0 || xc[d + 1] != null;\r\n\r\n            r = rm < 4 ? ( i != null || r ) && ( rm == 0 || rm == ( x.s < 0 ? 3 : 2 ) )\r\n                       : i > k || i == k &&( rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n                         rm == ( x.s < 0 ? 8 : 7 ) );\r\n\r\n            if ( d < 1 || !xc[0] ) {\r\n\r\n                // 1^-dp or 0.\r\n                str = r ? toFixedPoint( '1', -dp ) : '0';\r\n            } else {\r\n                xc.length = d;\r\n\r\n                if (r) {\r\n\r\n                    // Rounding up may mean the previous digit has to be rounded up and so on.\r\n                    for ( --baseOut; ++xc[--d] > baseOut; ) {\r\n                        xc[d] = 0;\r\n\r\n                        if ( !d ) {\r\n                            ++e;\r\n                            xc = [1].concat(xc);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Determine trailing zeros.\r\n                for ( k = xc.length; !xc[--k]; );\r\n\r\n                // E.g. [4, 11, 15] becomes 4bf.\r\n                for ( i = 0, str = ''; i <= k; str += ALPHABET.charAt( xc[i++] ) );\r\n                str = toFixedPoint( str, e );\r\n            }\r\n\r\n            // The caller will add the sign.\r\n            return str;\r\n        }\r\n\r\n\r\n        // Perform division in the specified base. Called by div and convertBase.\r\n        div = (function () {\r\n\r\n            // Assume non-zero x and k.\r\n            function multiply( x, k, base ) {\r\n                var m, temp, xlo, xhi,\r\n                    carry = 0,\r\n                    i = x.length,\r\n                    klo = k % SQRT_BASE,\r\n                    khi = k / SQRT_BASE | 0;\r\n\r\n                for ( x = x.slice(); i--; ) {\r\n                    xlo = x[i] % SQRT_BASE;\r\n                    xhi = x[i] / SQRT_BASE | 0;\r\n                    m = khi * xlo + xhi * klo;\r\n                    temp = klo * xlo + ( ( m % SQRT_BASE ) * SQRT_BASE ) + carry;\r\n                    carry = ( temp / base | 0 ) + ( m / SQRT_BASE | 0 ) + khi * xhi;\r\n                    x[i] = temp % base;\r\n                }\r\n\r\n                if (carry) x = [carry].concat(x);\r\n\r\n                return x;\r\n            }\r\n\r\n            function compare( a, b, aL, bL ) {\r\n                var i, cmp;\r\n\r\n                if ( aL != bL ) {\r\n                    cmp = aL > bL ? 1 : -1;\r\n                } else {\r\n\r\n                    for ( i = cmp = 0; i < aL; i++ ) {\r\n\r\n                        if ( a[i] != b[i] ) {\r\n                            cmp = a[i] > b[i] ? 1 : -1;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return cmp;\r\n            }\r\n\r\n            function subtract( a, b, aL, base ) {\r\n                var i = 0;\r\n\r\n                // Subtract b from a.\r\n                for ( ; aL--; ) {\r\n                    a[aL] -= i;\r\n                    i = a[aL] < b[aL] ? 1 : 0;\r\n                    a[aL] = i * base + a[aL] - b[aL];\r\n                }\r\n\r\n                // Remove leading zeros.\r\n                for ( ; !a[0] && a.length > 1; a.splice(0, 1) );\r\n            }\r\n\r\n            // x: dividend, y: divisor.\r\n            return function ( x, y, dp, rm, base ) {\r\n                var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n                    yL, yz,\r\n                    s = x.s == y.s ? 1 : -1,\r\n                    xc = x.c,\r\n                    yc = y.c;\r\n\r\n                // Either NaN, Infinity or 0?\r\n                if ( !xc || !xc[0] || !yc || !yc[0] ) {\r\n\r\n                    return new BigNumber(\r\n\r\n                      // Return NaN if either NaN, or both Infinity or 0.\r\n                      !x.s || !y.s || ( xc ? yc && xc[0] == yc[0] : !yc ) ? NaN :\r\n\r\n                        // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n                        xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n                    );\r\n                }\r\n\r\n                q = new BigNumber(s);\r\n                qc = q.c = [];\r\n                e = x.e - y.e;\r\n                s = dp + e + 1;\r\n\r\n                if ( !base ) {\r\n                    base = BASE;\r\n                    e = bitFloor( x.e / LOG_BASE ) - bitFloor( y.e / LOG_BASE );\r\n                    s = s / LOG_BASE | 0;\r\n                }\r\n\r\n                // Result exponent may be one less then the current value of e.\r\n                // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n                for ( i = 0; yc[i] == ( xc[i] || 0 ); i++ );\r\n                if ( yc[i] > ( xc[i] || 0 ) ) e--;\r\n\r\n                if ( s < 0 ) {\r\n                    qc.push(1);\r\n                    more = true;\r\n                } else {\r\n                    xL = xc.length;\r\n                    yL = yc.length;\r\n                    i = 0;\r\n                    s += 2;\r\n\r\n                    // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n                    n = mathfloor( base / ( yc[0] + 1 ) );\r\n\r\n                    // Not necessary, but to handle odd bases where yc[0] == ( base / 2 ) - 1.\r\n                    // if ( n > 1 || n++ == 1 && yc[0] < base / 2 ) {\r\n                    if ( n > 1 ) {\r\n                        yc = multiply( yc, n, base );\r\n                        xc = multiply( xc, n, base );\r\n                        yL = yc.length;\r\n                        xL = xc.length;\r\n                    }\r\n\r\n                    xi = yL;\r\n                    rem = xc.slice( 0, yL );\r\n                    remL = rem.length;\r\n\r\n                    // Add zeros to make remainder as long as divisor.\r\n                    for ( ; remL < yL; rem[remL++] = 0 );\r\n                    yz = yc.slice();\r\n                    yz = [0].concat(yz);\r\n                    yc0 = yc[0];\r\n                    if ( yc[1] >= base / 2 ) yc0++;\r\n                    // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n                    // else if ( base == 3 && yc0 == 1 ) yc0 = 1 + 1e-15;\r\n\r\n                    do {\r\n                        n = 0;\r\n\r\n                        // Compare divisor and remainder.\r\n                        cmp = compare( yc, rem, yL, remL );\r\n\r\n                        // If divisor < remainder.\r\n                        if ( cmp < 0 ) {\r\n\r\n                            // Calculate trial digit, n.\r\n\r\n                            rem0 = rem[0];\r\n                            if ( yL != remL ) rem0 = rem0 * base + ( rem[1] || 0 );\r\n\r\n                            // n is how many times the divisor goes into the current remainder.\r\n                            n = mathfloor( rem0 / yc0 );\r\n\r\n                            //  Algorithm:\r\n                            //  1. product = divisor * trial digit (n)\r\n                            //  2. if product > remainder: product -= divisor, n--\r\n                            //  3. remainder -= product\r\n                            //  4. if product was < remainder at 2:\r\n                            //    5. compare new remainder and divisor\r\n                            //    6. If remainder > divisor: remainder -= divisor, n++\r\n\r\n                            if ( n > 1 ) {\r\n\r\n                                // n may be > base only when base is 3.\r\n                                if (n >= base) n = base - 1;\r\n\r\n                                // product = divisor * trial digit.\r\n                                prod = multiply( yc, n, base );\r\n                                prodL = prod.length;\r\n                                remL = rem.length;\r\n\r\n                                // Compare product and remainder.\r\n                                // If product > remainder.\r\n                                // Trial digit n too high.\r\n                                // n is 1 too high about 5% of the time, and is not known to have\r\n                                // ever been more than 1 too high.\r\n                                while ( compare( prod, rem, prodL, remL ) == 1 ) {\r\n                                    n--;\r\n\r\n                                    // Subtract divisor from product.\r\n                                    subtract( prod, yL < prodL ? yz : yc, prodL, base );\r\n                                    prodL = prod.length;\r\n                                    cmp = 1;\r\n                                }\r\n                            } else {\r\n\r\n                                // n is 0 or 1, cmp is -1.\r\n                                // If n is 0, there is no need to compare yc and rem again below,\r\n                                // so change cmp to 1 to avoid it.\r\n                                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                                if ( n == 0 ) {\r\n\r\n                                    // divisor < remainder, so n must be at least 1.\r\n                                    cmp = n = 1;\r\n                                }\r\n\r\n                                // product = divisor\r\n                                prod = yc.slice();\r\n                                prodL = prod.length;\r\n                            }\r\n\r\n                            if ( prodL < remL ) prod = [0].concat(prod);\r\n\r\n                            // Subtract product from remainder.\r\n                            subtract( rem, prod, remL, base );\r\n                            remL = rem.length;\r\n\r\n                             // If product was < remainder.\r\n                            if ( cmp == -1 ) {\r\n\r\n                                // Compare divisor and new remainder.\r\n                                // If divisor < new remainder, subtract divisor from remainder.\r\n                                // Trial digit n too low.\r\n                                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                                while ( compare( yc, rem, yL, remL ) < 1 ) {\r\n                                    n++;\r\n\r\n                                    // Subtract divisor from remainder.\r\n                                    subtract( rem, yL < remL ? yz : yc, remL, base );\r\n                                    remL = rem.length;\r\n                                }\r\n                            }\r\n                        } else if ( cmp === 0 ) {\r\n                            n++;\r\n                            rem = [0];\r\n                        } // else cmp === 1 and n will be 0\r\n\r\n                        // Add the next digit, n, to the result array.\r\n                        qc[i++] = n;\r\n\r\n                        // Update the remainder.\r\n                        if ( rem[0] ) {\r\n                            rem[remL++] = xc[xi] || 0;\r\n                        } else {\r\n                            rem = [ xc[xi] ];\r\n                            remL = 1;\r\n                        }\r\n                    } while ( ( xi++ < xL || rem[0] != null ) && s-- );\r\n\r\n                    more = rem[0] != null;\r\n\r\n                    // Leading zero?\r\n                    if ( !qc[0] ) qc.splice(0, 1);\r\n                }\r\n\r\n                if ( base == BASE ) {\r\n\r\n                    // To calculate q.e, first get the number of digits of qc[0].\r\n                    for ( i = 1, s = qc[0]; s >= 10; s /= 10, i++ );\r\n                    round( q, dp + ( q.e = i + e * LOG_BASE - 1 ) + 1, rm, more );\r\n\r\n                // Caller is convertBase.\r\n                } else {\r\n                    q.e = e;\r\n                    q.r = +more;\r\n                }\r\n\r\n                return q;\r\n            };\r\n        })();\r\n\r\n\r\n        /*\r\n         * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n         * notation rounded to the specified decimal places or significant digits.\r\n         *\r\n         * n is a BigNumber.\r\n         * i is the index of the last digit required (i.e. the digit that may be rounded up).\r\n         * rm is the rounding mode.\r\n         * caller is caller id: toExponential 19, toFixed 20, toFormat 21, toPrecision 24.\r\n         */\r\n        function format( n, i, rm, caller ) {\r\n            var c0, e, ne, len, str;\r\n\r\n            rm = rm != null && isValidInt( rm, 0, 8, caller, roundingMode )\r\n              ? rm | 0 : ROUNDING_MODE;\r\n\r\n            if ( !n.c ) return n.toString();\r\n            c0 = n.c[0];\r\n            ne = n.e;\r\n\r\n            if ( i == null ) {\r\n                str = coeffToString( n.c );\r\n                str = caller == 19 || caller == 24 && ne <= TO_EXP_NEG\r\n                  ? toExponential( str, ne )\r\n                  : toFixedPoint( str, ne );\r\n            } else {\r\n                n = round( new BigNumber(n), i, rm );\r\n\r\n                // n.e may have changed if the value was rounded up.\r\n                e = n.e;\r\n\r\n                str = coeffToString( n.c );\r\n                len = str.length;\r\n\r\n                // toPrecision returns exponential notation if the number of significant digits\r\n                // specified is less than the number of digits necessary to represent the integer\r\n                // part of the value in fixed-point notation.\r\n\r\n                // Exponential notation.\r\n                if ( caller == 19 || caller == 24 && ( i <= e || e <= TO_EXP_NEG ) ) {\r\n\r\n                    // Append zeros?\r\n                    for ( ; len < i; str += '0', len++ );\r\n                    str = toExponential( str, e );\r\n\r\n                // Fixed-point notation.\r\n                } else {\r\n                    i -= ne;\r\n                    str = toFixedPoint( str, e );\r\n\r\n                    // Append zeros?\r\n                    if ( e + 1 > len ) {\r\n                        if ( --i > 0 ) for ( str += '.'; i--; str += '0' );\r\n                    } else {\r\n                        i += e - len;\r\n                        if ( i > 0 ) {\r\n                            if ( e + 1 == len ) str += '.';\r\n                            for ( ; i--; str += '0' );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return n.s < 0 && c0 ? '-' + str : str;\r\n        }\r\n\r\n\r\n        // Handle BigNumber.max and BigNumber.min.\r\n        function maxOrMin( args, method ) {\r\n            var m, n,\r\n                i = 0;\r\n\r\n            if ( isArray( args[0] ) ) args = args[0];\r\n            m = new BigNumber( args[0] );\r\n\r\n            for ( ; ++i < args.length; ) {\r\n                n = new BigNumber( args[i] );\r\n\r\n                // If any number is NaN, return NaN.\r\n                if ( !n.s ) {\r\n                    m = n;\r\n                    break;\r\n                } else if ( method.call( m, n ) ) {\r\n                    m = n;\r\n                }\r\n            }\r\n\r\n            return m;\r\n        }\r\n\r\n\r\n        /*\r\n         * Return true if n is an integer in range, otherwise throw.\r\n         * Use for argument validation when ERRORS is true.\r\n         */\r\n        function intValidatorWithErrors( n, min, max, caller, name ) {\r\n            if ( n < min || n > max || n != truncate(n) ) {\r\n                raise( caller, ( name || 'decimal places' ) +\r\n                  ( n < min || n > max ? ' out of range' : ' not an integer' ), n );\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n\r\n        /*\r\n         * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n         * Called by minus, plus and times.\r\n         */\r\n        function normalise( n, c, e ) {\r\n            var i = 1,\r\n                j = c.length;\r\n\r\n             // Remove trailing zeros.\r\n            for ( ; !c[--j]; c.pop() );\r\n\r\n            // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n            for ( j = c[0]; j >= 10; j /= 10, i++ );\r\n\r\n            // Overflow?\r\n            if ( ( e = i + e * LOG_BASE - 1 ) > MAX_EXP ) {\r\n\r\n                // Infinity.\r\n                n.c = n.e = null;\r\n\r\n            // Underflow?\r\n            } else if ( e < MIN_EXP ) {\r\n\r\n                // Zero.\r\n                n.c = [ n.e = 0 ];\r\n            } else {\r\n                n.e = e;\r\n                n.c = c;\r\n            }\r\n\r\n            return n;\r\n        }\r\n\r\n\r\n        // Handle values that fail the validity test in BigNumber.\r\n        parseNumeric = (function () {\r\n            var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n                dotAfter = /^([^.]+)\\.$/,\r\n                dotBefore = /^\\.([^.]+)$/,\r\n                isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n                whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n            return function ( x, str, num, b ) {\r\n                var base,\r\n                    s = num ? str : str.replace( whitespaceOrPlus, '' );\r\n\r\n                // No exception on ±Infinity or NaN.\r\n                if ( isInfinityOrNaN.test(s) ) {\r\n                    x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n                } else {\r\n                    if ( !num ) {\r\n\r\n                        // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n                        s = s.replace( basePrefix, function ( m, p1, p2 ) {\r\n                            base = ( p2 = p2.toLowerCase() ) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n                            return !b || b == base ? p1 : m;\r\n                        });\r\n\r\n                        if (b) {\r\n                            base = b;\r\n\r\n                            // E.g. '1.' to '1', '.1' to '0.1'\r\n                            s = s.replace( dotAfter, '$1' ).replace( dotBefore, '0.$1' );\r\n                        }\r\n\r\n                        if ( str != s ) return new BigNumber( s, base );\r\n                    }\r\n\r\n                    // 'new BigNumber() not a number: {n}'\r\n                    // 'new BigNumber() not a base {b} number: {n}'\r\n                    if (ERRORS) raise( id, 'not a' + ( b ? ' base ' + b : '' ) + ' number', str );\r\n                    x.s = null;\r\n                }\r\n\r\n                x.c = x.e = null;\r\n                id = 0;\r\n            }\r\n        })();\r\n\r\n\r\n        // Throw a BigNumber Error.\r\n        function raise( caller, msg, val ) {\r\n            var error = new Error( [\r\n                'new BigNumber',     // 0\r\n                'cmp',               // 1\r\n                'config',            // 2\r\n                'div',               // 3\r\n                'divToInt',          // 4\r\n                'eq',                // 5\r\n                'gt',                // 6\r\n                'gte',               // 7\r\n                'lt',                // 8\r\n                'lte',               // 9\r\n                'minus',             // 10\r\n                'mod',               // 11\r\n                'plus',              // 12\r\n                'precision',         // 13\r\n                'random',            // 14\r\n                'round',             // 15\r\n                'shift',             // 16\r\n                'times',             // 17\r\n                'toDigits',          // 18\r\n                'toExponential',     // 19\r\n                'toFixed',           // 20\r\n                'toFormat',          // 21\r\n                'toFraction',        // 22\r\n                'pow',               // 23\r\n                'toPrecision',       // 24\r\n                'toString',          // 25\r\n                'BigNumber'          // 26\r\n            ][caller] + '() ' + msg + ': ' + val );\r\n\r\n            error.name = 'BigNumber Error';\r\n            id = 0;\r\n            throw error;\r\n        }\r\n\r\n\r\n        /*\r\n         * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n         * If r is truthy, it is known that there are more digits after the rounding digit.\r\n         */\r\n        function round( x, sd, rm, r ) {\r\n            var d, i, j, k, n, ni, rd,\r\n                xc = x.c,\r\n                pows10 = POWS_TEN;\r\n\r\n            // if x is not Infinity or NaN...\r\n            if (xc) {\r\n\r\n                // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n                // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n                // ni is the index of n within x.c.\r\n                // d is the number of digits of n.\r\n                // i is the index of rd within n including leading zeros.\r\n                // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n                out: {\r\n\r\n                    // Get the number of digits of the first element of xc.\r\n                    for ( d = 1, k = xc[0]; k >= 10; k /= 10, d++ );\r\n                    i = sd - d;\r\n\r\n                    // If the rounding digit is in the first element of xc...\r\n                    if ( i < 0 ) {\r\n                        i += LOG_BASE;\r\n                        j = sd;\r\n                        n = xc[ ni = 0 ];\r\n\r\n                        // Get the rounding digit at index j of n.\r\n                        rd = n / pows10[ d - j - 1 ] % 10 | 0;\r\n                    } else {\r\n                        ni = mathceil( ( i + 1 ) / LOG_BASE );\r\n\r\n                        if ( ni >= xc.length ) {\r\n\r\n                            if (r) {\r\n\r\n                                // Needed by sqrt.\r\n                                for ( ; xc.length <= ni; xc.push(0) );\r\n                                n = rd = 0;\r\n                                d = 1;\r\n                                i %= LOG_BASE;\r\n                                j = i - LOG_BASE + 1;\r\n                            } else {\r\n                                break out;\r\n                            }\r\n                        } else {\r\n                            n = k = xc[ni];\r\n\r\n                            // Get the number of digits of n.\r\n                            for ( d = 1; k >= 10; k /= 10, d++ );\r\n\r\n                            // Get the index of rd within n.\r\n                            i %= LOG_BASE;\r\n\r\n                            // Get the index of rd within n, adjusted for leading zeros.\r\n                            // The number of leading zeros of n is given by LOG_BASE - d.\r\n                            j = i - LOG_BASE + d;\r\n\r\n                            // Get the rounding digit at index j of n.\r\n                            rd = j < 0 ? 0 : n / pows10[ d - j - 1 ] % 10 | 0;\r\n                        }\r\n                    }\r\n\r\n                    r = r || sd < 0 ||\r\n\r\n                    // Are there any non-zero digits after the rounding digit?\r\n                    // The expression  n % pows10[ d - j - 1 ]  returns all digits of n to the right\r\n                    // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n                      xc[ni + 1] != null || ( j < 0 ? n : n % pows10[ d - j - 1 ] );\r\n\r\n                    r = rm < 4\r\n                      ? ( rd || r ) && ( rm == 0 || rm == ( x.s < 0 ? 3 : 2 ) )\r\n                      : rd > 5 || rd == 5 && ( rm == 4 || r || rm == 6 &&\r\n\r\n                        // Check whether the digit to the left of the rounding digit is odd.\r\n                        ( ( i > 0 ? j > 0 ? n / pows10[ d - j ] : 0 : xc[ni - 1] ) % 10 ) & 1 ||\r\n                          rm == ( x.s < 0 ? 8 : 7 ) );\r\n\r\n                    if ( sd < 1 || !xc[0] ) {\r\n                        xc.length = 0;\r\n\r\n                        if (r) {\r\n\r\n                            // Convert sd to decimal places.\r\n                            sd -= x.e + 1;\r\n\r\n                            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n                            xc[0] = pows10[ ( LOG_BASE - sd % LOG_BASE ) % LOG_BASE ];\r\n                            x.e = -sd || 0;\r\n                        } else {\r\n\r\n                            // Zero.\r\n                            xc[0] = x.e = 0;\r\n                        }\r\n\r\n                        return x;\r\n                    }\r\n\r\n                    // Remove excess digits.\r\n                    if ( i == 0 ) {\r\n                        xc.length = ni;\r\n                        k = 1;\r\n                        ni--;\r\n                    } else {\r\n                        xc.length = ni + 1;\r\n                        k = pows10[ LOG_BASE - i ];\r\n\r\n                        // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n                        // j > 0 means i > number of leading zeros of n.\r\n                        xc[ni] = j > 0 ? mathfloor( n / pows10[ d - j ] % pows10[j] ) * k : 0;\r\n                    }\r\n\r\n                    // Round up?\r\n                    if (r) {\r\n\r\n                        for ( ; ; ) {\r\n\r\n                            // If the digit to be rounded up is in the first element of xc...\r\n                            if ( ni == 0 ) {\r\n\r\n                                // i will be the length of xc[0] before k is added.\r\n                                for ( i = 1, j = xc[0]; j >= 10; j /= 10, i++ );\r\n                                j = xc[0] += k;\r\n                                for ( k = 1; j >= 10; j /= 10, k++ );\r\n\r\n                                // if i != k the length has increased.\r\n                                if ( i != k ) {\r\n                                    x.e++;\r\n                                    if ( xc[0] == BASE ) xc[0] = 1;\r\n                                }\r\n\r\n                                break;\r\n                            } else {\r\n                                xc[ni] += k;\r\n                                if ( xc[ni] != BASE ) break;\r\n                                xc[ni--] = 0;\r\n                                k = 1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Remove trailing zeros.\r\n                    for ( i = xc.length; xc[--i] === 0; xc.pop() );\r\n                }\r\n\r\n                // Overflow? Infinity.\r\n                if ( x.e > MAX_EXP ) {\r\n                    x.c = x.e = null;\r\n\r\n                // Underflow? Zero.\r\n                } else if ( x.e < MIN_EXP ) {\r\n                    x.c = [ x.e = 0 ];\r\n                }\r\n            }\r\n\r\n            return x;\r\n        }\r\n\r\n\r\n        // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n         */\r\n        P.absoluteValue = P.abs = function () {\r\n            var x = new BigNumber(this);\r\n            if ( x.s < 0 ) x.s = 1;\r\n            return x;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a whole\r\n         * number in the direction of Infinity.\r\n         */\r\n        P.ceil = function () {\r\n            return round( new BigNumber(this), this.e + 1, 2 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return\r\n         * 1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n         * -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n         * 0 if they have the same value,\r\n         * or null if the value of either is NaN.\r\n         */\r\n        P.comparedTo = P.cmp = function ( y, b ) {\r\n            id = 1;\r\n            return compare( this, new BigNumber( y, b ) );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return the number of decimal places of the value of this BigNumber, or null if the value\r\n         * of this BigNumber is ±Infinity or NaN.\r\n         */\r\n        P.decimalPlaces = P.dp = function () {\r\n            var n, v,\r\n                c = this.c;\r\n\r\n            if ( !c ) return null;\r\n            n = ( ( v = c.length - 1 ) - bitFloor( this.e / LOG_BASE ) ) * LOG_BASE;\r\n\r\n            // Subtract the number of trailing zeros of the last number.\r\n            if ( v = c[v] ) for ( ; v % 10 == 0; v /= 10, n-- );\r\n            if ( n < 0 ) n = 0;\r\n\r\n            return n;\r\n        };\r\n\r\n\r\n        /*\r\n         *  n / 0 = I\r\n         *  n / N = N\r\n         *  n / I = 0\r\n         *  0 / n = 0\r\n         *  0 / 0 = N\r\n         *  0 / N = N\r\n         *  0 / I = 0\r\n         *  N / n = N\r\n         *  N / 0 = N\r\n         *  N / N = N\r\n         *  N / I = N\r\n         *  I / n = I\r\n         *  I / 0 = I\r\n         *  I / N = N\r\n         *  I / I = N\r\n         *\r\n         * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n         * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n         */\r\n        P.dividedBy = P.div = function ( y, b ) {\r\n            id = 3;\r\n            return div( this, new BigNumber( y, b ), DECIMAL_PLACES, ROUNDING_MODE );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n         * BigNumber by the value of BigNumber(y, b).\r\n         */\r\n        P.dividedToIntegerBy = P.divToInt = function ( y, b ) {\r\n            id = 4;\r\n            return div( this, new BigNumber( y, b ), 0, 1 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n         * otherwise returns false.\r\n         */\r\n        P.equals = P.eq = function ( y, b ) {\r\n            id = 5;\r\n            return compare( this, new BigNumber( y, b ) ) === 0;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a whole\r\n         * number in the direction of -Infinity.\r\n         */\r\n        P.floor = function () {\r\n            return round( new BigNumber(this), this.e + 1, 3 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n         * otherwise returns false.\r\n         */\r\n        P.greaterThan = P.gt = function ( y, b ) {\r\n            id = 6;\r\n            return compare( this, new BigNumber( y, b ) ) > 0;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is greater than or equal to the value of\r\n         * BigNumber(y, b), otherwise returns false.\r\n         */\r\n        P.greaterThanOrEqualTo = P.gte = function ( y, b ) {\r\n            id = 7;\r\n            return ( b = compare( this, new BigNumber( y, b ) ) ) === 1 || b === 0;\r\n\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is a finite number, otherwise returns false.\r\n         */\r\n        P.isFinite = function () {\r\n            return !!this.c;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n         */\r\n        P.isInteger = P.isInt = function () {\r\n            return !!this.c && bitFloor( this.e / LOG_BASE ) > this.c.length - 2;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is NaN, otherwise returns false.\r\n         */\r\n        P.isNaN = function () {\r\n            return !this.s;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is negative, otherwise returns false.\r\n         */\r\n        P.isNegative = P.isNeg = function () {\r\n            return this.s < 0;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is 0 or -0, otherwise returns false.\r\n         */\r\n        P.isZero = function () {\r\n            return !!this.c && this.c[0] == 0;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n         * otherwise returns false.\r\n         */\r\n        P.lessThan = P.lt = function ( y, b ) {\r\n            id = 8;\r\n            return compare( this, new BigNumber( y, b ) ) < 0;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return true if the value of this BigNumber is less than or equal to the value of\r\n         * BigNumber(y, b), otherwise returns false.\r\n         */\r\n        P.lessThanOrEqualTo = P.lte = function ( y, b ) {\r\n            id = 9;\r\n            return ( b = compare( this, new BigNumber( y, b ) ) ) === -1 || b === 0;\r\n        };\r\n\r\n\r\n        /*\r\n         *  n - 0 = n\r\n         *  n - N = N\r\n         *  n - I = -I\r\n         *  0 - n = -n\r\n         *  0 - 0 = 0\r\n         *  0 - N = N\r\n         *  0 - I = -I\r\n         *  N - n = N\r\n         *  N - 0 = N\r\n         *  N - N = N\r\n         *  N - I = N\r\n         *  I - n = I\r\n         *  I - 0 = I\r\n         *  I - N = N\r\n         *  I - I = N\r\n         *\r\n         * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n         * BigNumber(y, b).\r\n         */\r\n        P.minus = P.sub = function ( y, b ) {\r\n            var i, j, t, xLTy,\r\n                x = this,\r\n                a = x.s;\r\n\r\n            id = 10;\r\n            y = new BigNumber( y, b );\r\n            b = y.s;\r\n\r\n            // Either NaN?\r\n            if ( !a || !b ) return new BigNumber(NaN);\r\n\r\n            // Signs differ?\r\n            if ( a != b ) {\r\n                y.s = -b;\r\n                return x.plus(y);\r\n            }\r\n\r\n            var xe = x.e / LOG_BASE,\r\n                ye = y.e / LOG_BASE,\r\n                xc = x.c,\r\n                yc = y.c;\r\n\r\n            if ( !xe || !ye ) {\r\n\r\n                // Either Infinity?\r\n                if ( !xc || !yc ) return xc ? ( y.s = -b, y ) : new BigNumber( yc ? x : NaN );\r\n\r\n                // Either zero?\r\n                if ( !xc[0] || !yc[0] ) {\r\n\r\n                    // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n                    return yc[0] ? ( y.s = -b, y ) : new BigNumber( xc[0] ? x :\r\n\r\n                      // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n                      ROUNDING_MODE == 3 ? -0 : 0 );\r\n                }\r\n            }\r\n\r\n            xe = bitFloor(xe);\r\n            ye = bitFloor(ye);\r\n            xc = xc.slice();\r\n\r\n            // Determine which is the bigger number.\r\n            if ( a = xe - ye ) {\r\n\r\n                if ( xLTy = a < 0 ) {\r\n                    a = -a;\r\n                    t = xc;\r\n                } else {\r\n                    ye = xe;\r\n                    t = yc;\r\n                }\r\n\r\n                t.reverse();\r\n\r\n                // Prepend zeros to equalise exponents.\r\n                for ( b = a; b--; t.push(0) );\r\n                t.reverse();\r\n            } else {\r\n\r\n                // Exponents equal. Check digit by digit.\r\n                j = ( xLTy = ( a = xc.length ) < ( b = yc.length ) ) ? a : b;\r\n\r\n                for ( a = b = 0; b < j; b++ ) {\r\n\r\n                    if ( xc[b] != yc[b] ) {\r\n                        xLTy = xc[b] < yc[b];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // x < y? Point xc to the array of the bigger number.\r\n            if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n            b = ( j = yc.length ) - ( i = xc.length );\r\n\r\n            // Append zeros to xc if shorter.\r\n            // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n            if ( b > 0 ) for ( ; b--; xc[i++] = 0 );\r\n            b = BASE - 1;\r\n\r\n            // Subtract yc from xc.\r\n            for ( ; j > a; ) {\r\n\r\n                if ( xc[--j] < yc[j] ) {\r\n                    for ( i = j; i && !xc[--i]; xc[i] = b );\r\n                    --xc[i];\r\n                    xc[j] += BASE;\r\n                }\r\n\r\n                xc[j] -= yc[j];\r\n            }\r\n\r\n            // Remove leading zeros and adjust exponent accordingly.\r\n            for ( ; xc[0] == 0; xc.splice(0, 1), --ye );\r\n\r\n            // Zero?\r\n            if ( !xc[0] ) {\r\n\r\n                // Following IEEE 754 (2008) 6.3,\r\n                // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n                y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n                y.c = [ y.e = 0 ];\r\n                return y;\r\n            }\r\n\r\n            // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n            // for finite x and y.\r\n            return normalise( y, xc, ye );\r\n        };\r\n\r\n\r\n        /*\r\n         *   n % 0 =  N\r\n         *   n % N =  N\r\n         *   n % I =  n\r\n         *   0 % n =  0\r\n         *  -0 % n = -0\r\n         *   0 % 0 =  N\r\n         *   0 % N =  N\r\n         *   0 % I =  0\r\n         *   N % n =  N\r\n         *   N % 0 =  N\r\n         *   N % N =  N\r\n         *   N % I =  N\r\n         *   I % n =  N\r\n         *   I % 0 =  N\r\n         *   I % N =  N\r\n         *   I % I =  N\r\n         *\r\n         * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n         * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n         */\r\n        P.modulo = P.mod = function ( y, b ) {\r\n            var q, s,\r\n                x = this;\r\n\r\n            id = 11;\r\n            y = new BigNumber( y, b );\r\n\r\n            // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n            if ( !x.c || !y.s || y.c && !y.c[0] ) {\r\n                return new BigNumber(NaN);\r\n\r\n            // Return x if y is Infinity or x is zero.\r\n            } else if ( !y.c || x.c && !x.c[0] ) {\r\n                return new BigNumber(x);\r\n            }\r\n\r\n            if ( MODULO_MODE == 9 ) {\r\n\r\n                // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n                // r = x - qy    where  0 <= r < abs(y)\r\n                s = y.s;\r\n                y.s = 1;\r\n                q = div( x, y, 0, 3 );\r\n                y.s = s;\r\n                q.s *= s;\r\n            } else {\r\n                q = div( x, y, 0, MODULO_MODE );\r\n            }\r\n\r\n            return x.minus( q.times(y) );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n         * i.e. multiplied by -1.\r\n         */\r\n        P.negated = P.neg = function () {\r\n            var x = new BigNumber(this);\r\n            x.s = -x.s || null;\r\n            return x;\r\n        };\r\n\r\n\r\n        /*\r\n         *  n + 0 = n\r\n         *  n + N = N\r\n         *  n + I = I\r\n         *  0 + n = n\r\n         *  0 + 0 = 0\r\n         *  0 + N = N\r\n         *  0 + I = I\r\n         *  N + n = N\r\n         *  N + 0 = N\r\n         *  N + N = N\r\n         *  N + I = N\r\n         *  I + n = I\r\n         *  I + 0 = I\r\n         *  I + N = N\r\n         *  I + I = I\r\n         *\r\n         * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n         * BigNumber(y, b).\r\n         */\r\n        P.plus = P.add = function ( y, b ) {\r\n            var t,\r\n                x = this,\r\n                a = x.s;\r\n\r\n            id = 12;\r\n            y = new BigNumber( y, b );\r\n            b = y.s;\r\n\r\n            // Either NaN?\r\n            if ( !a || !b ) return new BigNumber(NaN);\r\n\r\n            // Signs differ?\r\n             if ( a != b ) {\r\n                y.s = -b;\r\n                return x.minus(y);\r\n            }\r\n\r\n            var xe = x.e / LOG_BASE,\r\n                ye = y.e / LOG_BASE,\r\n                xc = x.c,\r\n                yc = y.c;\r\n\r\n            if ( !xe || !ye ) {\r\n\r\n                // Return ±Infinity if either ±Infinity.\r\n                if ( !xc || !yc ) return new BigNumber( a / 0 );\r\n\r\n                // Either zero?\r\n                // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n                if ( !xc[0] || !yc[0] ) return yc[0] ? y : new BigNumber( xc[0] ? x : a * 0 );\r\n            }\r\n\r\n            xe = bitFloor(xe);\r\n            ye = bitFloor(ye);\r\n            xc = xc.slice();\r\n\r\n            // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n            if ( a = xe - ye ) {\r\n                if ( a > 0 ) {\r\n                    ye = xe;\r\n                    t = yc;\r\n                } else {\r\n                    a = -a;\r\n                    t = xc;\r\n                }\r\n\r\n                t.reverse();\r\n                for ( ; a--; t.push(0) );\r\n                t.reverse();\r\n            }\r\n\r\n            a = xc.length;\r\n            b = yc.length;\r\n\r\n            // Point xc to the longer array, and b to the shorter length.\r\n            if ( a - b < 0 ) t = yc, yc = xc, xc = t, b = a;\r\n\r\n            // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n            for ( a = 0; b; ) {\r\n                a = ( xc[--b] = xc[b] + yc[b] + a ) / BASE | 0;\r\n                xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n            }\r\n\r\n            if (a) {\r\n                xc = [a].concat(xc);\r\n                ++ye;\r\n            }\r\n\r\n            // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n            // ye = MAX_EXP + 1 possible\r\n            return normalise( y, xc, ye );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return the number of significant digits of the value of this BigNumber.\r\n         *\r\n         * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.\r\n         */\r\n        P.precision = P.sd = function (z) {\r\n            var n, v,\r\n                x = this,\r\n                c = x.c;\r\n\r\n            // 'precision() argument not a boolean or binary digit: {z}'\r\n            if ( z != null && z !== !!z && z !== 1 && z !== 0 ) {\r\n                if (ERRORS) raise( 13, 'argument' + notBool, z );\r\n                if ( z != !!z ) z = null;\r\n            }\r\n\r\n            if ( !c ) return null;\r\n            v = c.length - 1;\r\n            n = v * LOG_BASE + 1;\r\n\r\n            if ( v = c[v] ) {\r\n\r\n                // Subtract the number of trailing zeros of the last element.\r\n                for ( ; v % 10 == 0; v /= 10, n-- );\r\n\r\n                // Add the number of digits of the first element.\r\n                for ( v = c[0]; v >= 10; v /= 10, n++ );\r\n            }\r\n\r\n            if ( z && x.e + 1 > n ) n = x.e + 1;\r\n\r\n            return n;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a maximum of\r\n         * dp decimal places using rounding mode rm, or to 0 and ROUNDING_MODE respectively if\r\n         * omitted.\r\n         *\r\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n         *\r\n         * 'round() decimal places out of range: {dp}'\r\n         * 'round() decimal places not an integer: {dp}'\r\n         * 'round() rounding mode not an integer: {rm}'\r\n         * 'round() rounding mode out of range: {rm}'\r\n         */\r\n        P.round = function ( dp, rm ) {\r\n            var n = new BigNumber(this);\r\n\r\n            if ( dp == null || isValidInt( dp, 0, MAX, 15 ) ) {\r\n                round( n, ~~dp + this.e + 1, rm == null ||\r\n                  !isValidInt( rm, 0, 8, 15, roundingMode ) ? ROUNDING_MODE : rm | 0 );\r\n            }\r\n\r\n            return n;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n         * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n         *\r\n         * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n         *\r\n         * If k is out of range and ERRORS is false, the result will be ±0 if k < 0, or ±Infinity\r\n         * otherwise.\r\n         *\r\n         * 'shift() argument not an integer: {k}'\r\n         * 'shift() argument out of range: {k}'\r\n         */\r\n        P.shift = function (k) {\r\n            var n = this;\r\n            return isValidInt( k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER, 16, 'argument' )\r\n\r\n              // k < 1e+21, or truncate(k) will produce exponential notation.\r\n              ? n.times( '1e' + truncate(k) )\r\n              : new BigNumber( n.c && n.c[0] && ( k < -MAX_SAFE_INTEGER || k > MAX_SAFE_INTEGER )\r\n                ? n.s * ( k < 0 ? 0 : 1 / 0 )\r\n                : n );\r\n        };\r\n\r\n\r\n        /*\r\n         *  sqrt(-n) =  N\r\n         *  sqrt( N) =  N\r\n         *  sqrt(-I) =  N\r\n         *  sqrt( I) =  I\r\n         *  sqrt( 0) =  0\r\n         *  sqrt(-0) = -0\r\n         *\r\n         * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n         * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n         */\r\n        P.squareRoot = P.sqrt = function () {\r\n            var m, n, r, rep, t,\r\n                x = this,\r\n                c = x.c,\r\n                s = x.s,\r\n                e = x.e,\r\n                dp = DECIMAL_PLACES + 4,\r\n                half = new BigNumber('0.5');\r\n\r\n            // Negative/NaN/Infinity/zero?\r\n            if ( s !== 1 || !c || !c[0] ) {\r\n                return new BigNumber( !s || s < 0 && ( !c || c[0] ) ? NaN : c ? x : 1 / 0 );\r\n            }\r\n\r\n            // Initial estimate.\r\n            s = Math.sqrt( +x );\r\n\r\n            // Math.sqrt underflow/overflow?\r\n            // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n            if ( s == 0 || s == 1 / 0 ) {\r\n                n = coeffToString(c);\r\n                if ( ( n.length + e ) % 2 == 0 ) n += '0';\r\n                s = Math.sqrt(n);\r\n                e = bitFloor( ( e + 1 ) / 2 ) - ( e < 0 || e % 2 );\r\n\r\n                if ( s == 1 / 0 ) {\r\n                    n = '1e' + e;\r\n                } else {\r\n                    n = s.toExponential();\r\n                    n = n.slice( 0, n.indexOf('e') + 1 ) + e;\r\n                }\r\n\r\n                r = new BigNumber(n);\r\n            } else {\r\n                r = new BigNumber( s + '' );\r\n            }\r\n\r\n            // Check for zero.\r\n            // r could be zero if MIN_EXP is changed after the this value was created.\r\n            // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n            // coeffToString to throw.\r\n            if ( r.c[0] ) {\r\n                e = r.e;\r\n                s = e + dp;\r\n                if ( s < 3 ) s = 0;\r\n\r\n                // Newton-Raphson iteration.\r\n                for ( ; ; ) {\r\n                    t = r;\r\n                    r = half.times( t.plus( div( x, t, dp, 1 ) ) );\r\n\r\n                    if ( coeffToString( t.c   ).slice( 0, s ) === ( n =\r\n                         coeffToString( r.c ) ).slice( 0, s ) ) {\r\n\r\n                        // The exponent of r may here be one less than the final result exponent,\r\n                        // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n                        // are indexed correctly.\r\n                        if ( r.e < e ) --s;\r\n                        n = n.slice( s - 3, s + 1 );\r\n\r\n                        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n                        // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n                        // iteration.\r\n                        if ( n == '9999' || !rep && n == '4999' ) {\r\n\r\n                            // On the first iteration only, check to see if rounding up gives the\r\n                            // exact result as the nines may infinitely repeat.\r\n                            if ( !rep ) {\r\n                                round( t, t.e + DECIMAL_PLACES + 2, 0 );\r\n\r\n                                if ( t.times(t).eq(x) ) {\r\n                                    r = t;\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            dp += 4;\r\n                            s += 4;\r\n                            rep = 1;\r\n                        } else {\r\n\r\n                            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n                            // result. If not, then there are further digits and m will be truthy.\r\n                            if ( !+n || !+n.slice(1) && n.charAt(0) == '5' ) {\r\n\r\n                                // Truncate to the first rounding digit.\r\n                                round( r, r.e + DECIMAL_PLACES + 2, 1 );\r\n                                m = !r.times(r).eq(x);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return round( r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m );\r\n        };\r\n\r\n\r\n        /*\r\n         *  n * 0 = 0\r\n         *  n * N = N\r\n         *  n * I = I\r\n         *  0 * n = 0\r\n         *  0 * 0 = 0\r\n         *  0 * N = N\r\n         *  0 * I = N\r\n         *  N * n = N\r\n         *  N * 0 = N\r\n         *  N * N = N\r\n         *  N * I = N\r\n         *  I * n = I\r\n         *  I * 0 = N\r\n         *  I * N = N\r\n         *  I * I = I\r\n         *\r\n         * Return a new BigNumber whose value is the value of this BigNumber times the value of\r\n         * BigNumber(y, b).\r\n         */\r\n        P.times = P.mul = function ( y, b ) {\r\n            var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n                base, sqrtBase,\r\n                x = this,\r\n                xc = x.c,\r\n                yc = ( id = 17, y = new BigNumber( y, b ) ).c;\r\n\r\n            // Either NaN, ±Infinity or ±0?\r\n            if ( !xc || !yc || !xc[0] || !yc[0] ) {\r\n\r\n                // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n                if ( !x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc ) {\r\n                    y.c = y.e = y.s = null;\r\n                } else {\r\n                    y.s *= x.s;\r\n\r\n                    // Return ±Infinity if either is ±Infinity.\r\n                    if ( !xc || !yc ) {\r\n                        y.c = y.e = null;\r\n\r\n                    // Return ±0 if either is ±0.\r\n                    } else {\r\n                        y.c = [0];\r\n                        y.e = 0;\r\n                    }\r\n                }\r\n\r\n                return y;\r\n            }\r\n\r\n            e = bitFloor( x.e / LOG_BASE ) + bitFloor( y.e / LOG_BASE );\r\n            y.s *= x.s;\r\n            xcL = xc.length;\r\n            ycL = yc.length;\r\n\r\n            // Ensure xc points to longer array and xcL to its length.\r\n            if ( xcL < ycL ) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n            // Initialise the result array with zeros.\r\n            for ( i = xcL + ycL, zc = []; i--; zc.push(0) );\r\n\r\n            base = BASE;\r\n            sqrtBase = SQRT_BASE;\r\n\r\n            for ( i = ycL; --i >= 0; ) {\r\n                c = 0;\r\n                ylo = yc[i] % sqrtBase;\r\n                yhi = yc[i] / sqrtBase | 0;\r\n\r\n                for ( k = xcL, j = i + k; j > i; ) {\r\n                    xlo = xc[--k] % sqrtBase;\r\n                    xhi = xc[k] / sqrtBase | 0;\r\n                    m = yhi * xlo + xhi * ylo;\r\n                    xlo = ylo * xlo + ( ( m % sqrtBase ) * sqrtBase ) + zc[j] + c;\r\n                    c = ( xlo / base | 0 ) + ( m / sqrtBase | 0 ) + yhi * xhi;\r\n                    zc[j--] = xlo % base;\r\n                }\r\n\r\n                zc[j] = c;\r\n            }\r\n\r\n            if (c) {\r\n                ++e;\r\n            } else {\r\n                zc.splice(0, 1);\r\n            }\r\n\r\n            return normalise( y, zc, e );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a maximum of\r\n         * sd significant digits using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n         *\r\n         * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n         *\r\n         * 'toDigits() precision out of range: {sd}'\r\n         * 'toDigits() precision not an integer: {sd}'\r\n         * 'toDigits() rounding mode not an integer: {rm}'\r\n         * 'toDigits() rounding mode out of range: {rm}'\r\n         */\r\n        P.toDigits = function ( sd, rm ) {\r\n            var n = new BigNumber(this);\r\n            sd = sd == null || !isValidInt( sd, 1, MAX, 18, 'precision' ) ? null : sd | 0;\r\n            rm = rm == null || !isValidInt( rm, 0, 8, 18, roundingMode ) ? ROUNDING_MODE : rm | 0;\r\n            return sd ? round( n, sd, rm ) : n;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a string representing the value of this BigNumber in exponential notation and\r\n         * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n         *\r\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n         *\r\n         * 'toExponential() decimal places not an integer: {dp}'\r\n         * 'toExponential() decimal places out of range: {dp}'\r\n         * 'toExponential() rounding mode not an integer: {rm}'\r\n         * 'toExponential() rounding mode out of range: {rm}'\r\n         */\r\n        P.toExponential = function ( dp, rm ) {\r\n            return format( this,\r\n              dp != null && isValidInt( dp, 0, MAX, 19 ) ? ~~dp + 1 : null, rm, 19 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n         * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n         *\r\n         * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n         * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n         *\r\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n         *\r\n         * 'toFixed() decimal places not an integer: {dp}'\r\n         * 'toFixed() decimal places out of range: {dp}'\r\n         * 'toFixed() rounding mode not an integer: {rm}'\r\n         * 'toFixed() rounding mode out of range: {rm}'\r\n         */\r\n        P.toFixed = function ( dp, rm ) {\r\n            return format( this, dp != null && isValidInt( dp, 0, MAX, 20 )\r\n              ? ~~dp + this.e + 1 : null, rm, 20 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n         * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n         * of the FORMAT object (see BigNumber.config).\r\n         *\r\n         * FORMAT = {\r\n         *      decimalSeparator : '.',\r\n         *      groupSeparator : ',',\r\n         *      groupSize : 3,\r\n         *      secondaryGroupSize : 0,\r\n         *      fractionGroupSeparator : '\\xA0',    // non-breaking space\r\n         *      fractionGroupSize : 0\r\n         * };\r\n         *\r\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n         *\r\n         * 'toFormat() decimal places not an integer: {dp}'\r\n         * 'toFormat() decimal places out of range: {dp}'\r\n         * 'toFormat() rounding mode not an integer: {rm}'\r\n         * 'toFormat() rounding mode out of range: {rm}'\r\n         */\r\n        P.toFormat = function ( dp, rm ) {\r\n            var str = format( this, dp != null && isValidInt( dp, 0, MAX, 21 )\r\n              ? ~~dp + this.e + 1 : null, rm, 21 );\r\n\r\n            if ( this.c ) {\r\n                var i,\r\n                    arr = str.split('.'),\r\n                    g1 = +FORMAT.groupSize,\r\n                    g2 = +FORMAT.secondaryGroupSize,\r\n                    groupSeparator = FORMAT.groupSeparator,\r\n                    intPart = arr[0],\r\n                    fractionPart = arr[1],\r\n                    isNeg = this.s < 0,\r\n                    intDigits = isNeg ? intPart.slice(1) : intPart,\r\n                    len = intDigits.length;\r\n\r\n                if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n                if ( g1 > 0 && len > 0 ) {\r\n                    i = len % g1 || g1;\r\n                    intPart = intDigits.substr( 0, i );\r\n\r\n                    for ( ; i < len; i += g1 ) {\r\n                        intPart += groupSeparator + intDigits.substr( i, g1 );\r\n                    }\r\n\r\n                    if ( g2 > 0 ) intPart += groupSeparator + intDigits.slice(i);\r\n                    if (isNeg) intPart = '-' + intPart;\r\n                }\r\n\r\n                str = fractionPart\r\n                  ? intPart + FORMAT.decimalSeparator + ( ( g2 = +FORMAT.fractionGroupSize )\r\n                    ? fractionPart.replace( new RegExp( '\\\\d{' + g2 + '}\\\\B', 'g' ),\r\n                      '$&' + FORMAT.fractionGroupSeparator )\r\n                    : fractionPart )\r\n                  : intPart;\r\n            }\r\n\r\n            return str;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a string array representing the value of this BigNumber as a simple fraction with\r\n         * an integer numerator and an integer denominator. The denominator will be a positive\r\n         * non-zero value less than or equal to the specified maximum denominator. If a maximum\r\n         * denominator is not specified, the denominator will be the lowest value necessary to\r\n         * represent the number exactly.\r\n         *\r\n         * [md] {number|string|BigNumber} Integer >= 1 and < Infinity. The maximum denominator.\r\n         *\r\n         * 'toFraction() max denominator not an integer: {md}'\r\n         * 'toFraction() max denominator out of range: {md}'\r\n         */\r\n        P.toFraction = function (md) {\r\n            var arr, d0, d2, e, exp, n, n0, q, s,\r\n                k = ERRORS,\r\n                x = this,\r\n                xc = x.c,\r\n                d = new BigNumber(ONE),\r\n                n1 = d0 = new BigNumber(ONE),\r\n                d1 = n0 = new BigNumber(ONE);\r\n\r\n            if ( md != null ) {\r\n                ERRORS = false;\r\n                n = new BigNumber(md);\r\n                ERRORS = k;\r\n\r\n                if ( !( k = n.isInt() ) || n.lt(ONE) ) {\r\n\r\n                    if (ERRORS) {\r\n                        raise( 22,\r\n                          'max denominator ' + ( k ? 'out of range' : 'not an integer' ), md );\r\n                    }\r\n\r\n                    // ERRORS is false:\r\n                    // If md is a finite non-integer >= 1, round it to an integer and use it.\r\n                    md = !k && n.c && round( n, n.e + 1, 1 ).gte(ONE) ? n : null;\r\n                }\r\n            }\r\n\r\n            if ( !xc ) return x.toString();\r\n            s = coeffToString(xc);\r\n\r\n            // Determine initial denominator.\r\n            // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n            e = d.e = s.length - x.e - 1;\r\n            d.c[0] = POWS_TEN[ ( exp = e % LOG_BASE ) < 0 ? LOG_BASE + exp : exp ];\r\n            md = !md || n.cmp(d) > 0 ? ( e > 0 ? d : n1 ) : n;\r\n\r\n            exp = MAX_EXP;\r\n            MAX_EXP = 1 / 0;\r\n            n = new BigNumber(s);\r\n\r\n            // n0 = d1 = 0\r\n            n0.c[0] = 0;\r\n\r\n            for ( ; ; )  {\r\n                q = div( n, d, 0, 1 );\r\n                d2 = d0.plus( q.times(d1) );\r\n                if ( d2.cmp(md) == 1 ) break;\r\n                d0 = d1;\r\n                d1 = d2;\r\n                n1 = n0.plus( q.times( d2 = n1 ) );\r\n                n0 = d2;\r\n                d = n.minus( q.times( d2 = d ) );\r\n                n = d2;\r\n            }\r\n\r\n            d2 = div( md.minus(d0), d1, 0, 1 );\r\n            n0 = n0.plus( d2.times(n1) );\r\n            d0 = d0.plus( d2.times(d1) );\r\n            n0.s = n1.s = x.s;\r\n            e *= 2;\r\n\r\n            // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n            arr = div( n1, d1, e, ROUNDING_MODE ).minus(x).abs().cmp(\r\n                  div( n0, d0, e, ROUNDING_MODE ).minus(x).abs() ) < 1\r\n                    ? [ n1.toString(), d1.toString() ]\r\n                    : [ n0.toString(), d0.toString() ];\r\n\r\n            MAX_EXP = exp;\r\n            return arr;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return the value of this BigNumber converted to a number primitive.\r\n         */\r\n        P.toNumber = function () {\r\n            return +this;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a BigNumber whose value is the value of this BigNumber raised to the power n.\r\n         * If m is present, return the result modulo m.\r\n         * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n         * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using\r\n         * ROUNDING_MODE.\r\n         *\r\n         * The modular power operation works efficiently when x, n, and m are positive integers,\r\n         * otherwise it is equivalent to calculating x.toPower(n).modulo(m) (with POW_PRECISION 0).\r\n         *\r\n         * n {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n         * [m] {number|string|BigNumber} The modulus.\r\n         *\r\n         * 'pow() exponent not an integer: {n}'\r\n         * 'pow() exponent out of range: {n}'\r\n         *\r\n         * Performs 54 loop iterations for n of 9007199254740991.\r\n         */\r\n        P.toPower = P.pow = function ( n, m ) {\r\n            var k, y, z,\r\n                i = mathfloor( n < 0 ? -n : +n ),\r\n                x = this;\r\n\r\n            if ( m != null ) {\r\n                id = 23;\r\n                m = new BigNumber(m);\r\n            }\r\n\r\n            // Pass ±Infinity to Math.pow if exponent is out of range.\r\n            if ( !isValidInt( n, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER, 23, 'exponent' ) &&\r\n              ( !isFinite(n) || i > MAX_SAFE_INTEGER && ( n /= 0 ) ||\r\n                parseFloat(n) != n && !( n = NaN ) ) || n == 0 ) {\r\n                k = Math.pow( +x, n );\r\n                return new BigNumber( m ? k % m : k );\r\n            }\r\n\r\n            if (m) {\r\n                if ( n > 1 && x.gt(ONE) && x.isInt() && m.gt(ONE) && m.isInt() ) {\r\n                    x = x.mod(m);\r\n                } else {\r\n                    z = m;\r\n\r\n                    // Nullify m so only a single mod operation is performed at the end.\r\n                    m = null;\r\n                }\r\n            } else if (POW_PRECISION) {\r\n\r\n                // Truncating each coefficient array to a length of k after each multiplication\r\n                // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n                // i.e. there will be a minimum of 28 guard digits retained.\r\n                // (Using + 1.5 would give [9, 21] guard digits.)\r\n                k = mathceil( POW_PRECISION / LOG_BASE + 2 );\r\n            }\r\n\r\n            y = new BigNumber(ONE);\r\n\r\n            for ( ; ; ) {\r\n                if ( i % 2 ) {\r\n                    y = y.times(x);\r\n                    if ( !y.c ) break;\r\n                    if (k) {\r\n                        if ( y.c.length > k ) y.c.length = k;\r\n                    } else if (m) {\r\n                        y = y.mod(m);\r\n                    }\r\n                }\r\n\r\n                i = mathfloor( i / 2 );\r\n                if ( !i ) break;\r\n                x = x.times(x);\r\n                if (k) {\r\n                    if ( x.c && x.c.length > k ) x.c.length = k;\r\n                } else if (m) {\r\n                    x = x.mod(m);\r\n                }\r\n            }\r\n\r\n            if (m) return y;\r\n            if ( n < 0 ) y = ONE.div(y);\r\n\r\n            return z ? y.mod(z) : k ? round( y, POW_PRECISION, ROUNDING_MODE ) : y;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n         * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n         * necessary to represent the integer part of the value in fixed-point notation, then use\r\n         * exponential notation.\r\n         *\r\n         * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n         *\r\n         * 'toPrecision() precision not an integer: {sd}'\r\n         * 'toPrecision() precision out of range: {sd}'\r\n         * 'toPrecision() rounding mode not an integer: {rm}'\r\n         * 'toPrecision() rounding mode out of range: {rm}'\r\n         */\r\n        P.toPrecision = function ( sd, rm ) {\r\n            return format( this, sd != null && isValidInt( sd, 1, MAX, 24, 'precision' )\r\n              ? sd | 0 : null, rm, 24 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n         * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n         * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n         * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n         * TO_EXP_NEG, return exponential notation.\r\n         *\r\n         * [b] {number} Integer, 2 to 64 inclusive.\r\n         *\r\n         * 'toString() base not an integer: {b}'\r\n         * 'toString() base out of range: {b}'\r\n         */\r\n        P.toString = function (b) {\r\n            var str,\r\n                n = this,\r\n                s = n.s,\r\n                e = n.e;\r\n\r\n            // Infinity or NaN?\r\n            if ( e === null ) {\r\n\r\n                if (s) {\r\n                    str = 'Infinity';\r\n                    if ( s < 0 ) str = '-' + str;\r\n                } else {\r\n                    str = 'NaN';\r\n                }\r\n            } else {\r\n                str = coeffToString( n.c );\r\n\r\n                if ( b == null || !isValidInt( b, 2, 64, 25, 'base' ) ) {\r\n                    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n                      ? toExponential( str, e )\r\n                      : toFixedPoint( str, e );\r\n                } else {\r\n                    str = convertBase( toFixedPoint( str, e ), b | 0, 10, s );\r\n                }\r\n\r\n                if ( s < 0 && n.c[0] ) str = '-' + str;\r\n            }\r\n\r\n            return str;\r\n        };\r\n\r\n\r\n        /*\r\n         * Return a new BigNumber whose value is the value of this BigNumber truncated to a whole\r\n         * number.\r\n         */\r\n        P.truncated = P.trunc = function () {\r\n            return round( new BigNumber(this), this.e + 1, 1 );\r\n        };\r\n\r\n\r\n        /*\r\n         * Return as toString, but do not accept a base argument, and include the minus sign for\r\n         * negative zero.\r\n         */\r\n        P.valueOf = P.toJSON = function () {\r\n            var str,\r\n                n = this,\r\n                e = n.e;\r\n\r\n            if ( e === null ) return n.toString();\r\n\r\n            str = coeffToString( n.c );\r\n\r\n            str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n                ? toExponential( str, e )\r\n                : toFixedPoint( str, e );\r\n\r\n            return n.s < 0 ? '-' + str : str;\r\n        };\r\n\r\n\r\n        P.isBigNumber = true;\r\n\r\n        if ( config != null ) BigNumber.config(config);\r\n\r\n        return BigNumber;\r\n    }\r\n\r\n\r\n    // PRIVATE HELPER FUNCTIONS\r\n\r\n\r\n    function bitFloor(n) {\r\n        var i = n | 0;\r\n        return n > 0 || n === i ? i : i - 1;\r\n    }\r\n\r\n\r\n    // Return a coefficient array as a string of base 10 digits.\r\n    function coeffToString(a) {\r\n        var s, z,\r\n            i = 1,\r\n            j = a.length,\r\n            r = a[0] + '';\r\n\r\n        for ( ; i < j; ) {\r\n            s = a[i++] + '';\r\n            z = LOG_BASE - s.length;\r\n            for ( ; z--; s = '0' + s );\r\n            r += s;\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for ( j = r.length; r.charCodeAt(--j) === 48; );\r\n        return r.slice( 0, j + 1 || 1 );\r\n    }\r\n\r\n\r\n    // Compare the value of BigNumbers x and y.\r\n    function compare( x, y ) {\r\n        var a, b,\r\n            xc = x.c,\r\n            yc = y.c,\r\n            i = x.s,\r\n            j = y.s,\r\n            k = x.e,\r\n            l = y.e;\r\n\r\n        // Either NaN?\r\n        if ( !i || !j ) return null;\r\n\r\n        a = xc && !xc[0];\r\n        b = yc && !yc[0];\r\n\r\n        // Either zero?\r\n        if ( a || b ) return a ? b ? 0 : -j : i;\r\n\r\n        // Signs differ?\r\n        if ( i != j ) return i;\r\n\r\n        a = i < 0;\r\n        b = k == l;\r\n\r\n        // Either Infinity?\r\n        if ( !xc || !yc ) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n        // Compare exponents.\r\n        if ( !b ) return k > l ^ a ? 1 : -1;\r\n\r\n        j = ( k = xc.length ) < ( l = yc.length ) ? k : l;\r\n\r\n        // Compare digit by digit.\r\n        for ( i = 0; i < j; i++ ) if ( xc[i] != yc[i] ) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n        // Compare lengths.\r\n        return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n    }\r\n\r\n\r\n    /*\r\n     * Return true if n is a valid number in range, otherwise false.\r\n     * Use for argument validation when ERRORS is false.\r\n     * Note: parseInt('1e+1') == 1 but parseFloat('1e+1') == 10.\r\n     */\r\n    function intValidatorNoErrors( n, min, max ) {\r\n        return ( n = truncate(n) ) >= min && n <= max;\r\n    }\r\n\r\n\r\n    function isArray(obj) {\r\n        return Object.prototype.toString.call(obj) == '[object Array]';\r\n    }\r\n\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. convertBase('255', 10, 16) returns [15, 15].\r\n     * Eg. convertBase('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut( str, baseIn, baseOut ) {\r\n        var j,\r\n            arr = [0],\r\n            arrL,\r\n            i = 0,\r\n            len = str.length;\r\n\r\n        for ( ; i < len; ) {\r\n            for ( arrL = arr.length; arrL--; arr[arrL] *= baseIn );\r\n            arr[ j = 0 ] += ALPHABET.indexOf( str.charAt( i++ ) );\r\n\r\n            for ( ; j < arr.length; j++ ) {\r\n\r\n                if ( arr[j] > baseOut - 1 ) {\r\n                    if ( arr[j + 1] == null ) arr[j + 1] = 0;\r\n                    arr[j + 1] += arr[j] / baseOut | 0;\r\n                    arr[j] %= baseOut;\r\n                }\r\n            }\r\n        }\r\n\r\n        return arr.reverse();\r\n    }\r\n\r\n\r\n    function toExponential( str, e ) {\r\n        return ( str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str ) +\r\n          ( e < 0 ? 'e' : 'e+' ) + e;\r\n    }\r\n\r\n\r\n    function toFixedPoint( str, e ) {\r\n        var len, z;\r\n\r\n        // Negative exponent?\r\n        if ( e < 0 ) {\r\n\r\n            // Prepend zeros.\r\n            for ( z = '0.'; ++e; z += '0' );\r\n            str = z + str;\r\n\r\n        // Positive exponent\r\n        } else {\r\n            len = str.length;\r\n\r\n            // Append zeros.\r\n            if ( ++e > len ) {\r\n                for ( z = '0', e -= len; --e; z += '0' );\r\n                str += z;\r\n            } else if ( e < len ) {\r\n                str = str.slice( 0, e ) + '.' + str.slice(e);\r\n            }\r\n        }\r\n\r\n        return str;\r\n    }\r\n\r\n\r\n    function truncate(n) {\r\n        n = parseFloat(n);\r\n        return n < 0 ? mathceil(n) : mathfloor(n);\r\n    }\r\n\r\n\r\n    // EXPORT\r\n\r\n\r\n    BigNumber = constructorFactory();\r\n    BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n\r\n    // AMD.\r\n    if ( true ) {\r\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () { return BigNumber; }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\r\n    // Node.js and other environments that support module.exports.\r\n    } else {}\r\n})(this);\r\n\n\n//# sourceURL=webpack:///./node_modules/bignumber.js/bignumber.js?");

/***/ }),

/***/ "./node_modules/extend/index.js":
/*!**************************************!*\
  !*** ./node_modules/extend/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n//# sourceURL=webpack:///./node_modules/extend/index.js?");

/***/ }),

/***/ "./node_modules/nebpay/lib/nebPay.js":
/*!*******************************************!*\
  !*** ./node_modules/nebpay/lib/nebPay.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar BigNumber = _interopDefault(__webpack_require__(/*! bignumber.js */ \"./node_modules/bignumber.js/bignumber.js\"));\nvar extend = _interopDefault(__webpack_require__(/*! extend */ \"./node_modules/extend/index.js\"));\n\nvar get = function get(url, body) {\n    var obj = {\n        url: url,\n        method: \"GET\",\n        body: body\n    };\n    return request(obj);\n};\n\nvar post = function post(url, body) {\n    var obj = {\n        url: url,\n        method: \"POST\",\n        body: body\n    };\n    return request(obj);\n};\n\nvar request = function request(obj) {\n    return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open(obj.method || \"GET\", obj.url);\n        if (obj.headers) {\n            Object.keys(obj.headers).forEach(function (key) {\n                xhr.setRequestHeader(key, obj.headers[key]);\n            });\n        }\n        xhr.onload = function () {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                resolve(xhr.response);\n            } else {\n                reject(xhr.statusText);\n            }\n        };\n        xhr.onerror = function () {\n            return reject(xhr.statusText);\n        };\n        xhr.send(obj.body);\n    });\n};\n\nvar http = {\n    get: get,\n    post: post,\n    request: request\n};\n\nvar payUrl = \"https://pay.nebulas.io/api/pay\";\n\nvar config = {\n  payUrl: payUrl\n};\n\nvar isChrome = function isChrome() {\n    if (typeof window !== \"undefined\") {\n        var userAgent = navigator.userAgent.toLowerCase();\n        if (userAgent.match(/chrome\\/([\\d\\.]+)/)) {\n            return true;\n        }\n    }\n    return false;\n};\n\nvar randomCode = function randomCode(len) {\n    var d,\n        e,\n        b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\",\n        c = \"\";\n    for (d = 0; len > d; d += 1) {\n        e = Math.random() * b.length;\n        e = Math.floor(e);\n        c += b.charAt(e);\n    }\n    return c;\n};\n\nvar Utils = {\n    isChrome: isChrome,\n    randomCode: randomCode\n};\n\nvar callbackMap = {};\n\nvar openExtension = function openExtension(params) {\n\n    if (params.listener) {\n        callbackMap[params.serialNumber] = params.listener;\n    }\n\n    params.listener = undefined;\n\n    window.postMessage({\n        \"src\": \"nebPay\",\n        \"logo\": \"nebulas\",\n        \"params\": params\n    }, \"*\");\n};\n\nwindow.addEventListener('message', function (resp) {\n\n    console.log(\"nebpay: received resp.data: \" + JSON.stringify(resp.data));\n    if (resp.data.src !== \"content\") return;\n\n    var key = resp.data.serialNumber;\n    var callback = callbackMap[key];\n    if (typeof callback === \"function\") {\n        callback(resp.data.resp);\n    }\n});\n\nvar Pay = function Pay(appKey, appSecret) {\n\tthis.appKey = appKey;\n\tthis.appSecret = appSecret;\n};\n\nPay.prototype = {\n\tsubmit: function submit(currency, to, value, payload, options) {\n\t\toptions.serialNumber = Utils.randomCode(32);\n\t\tvalue = value || \"0\";\n\t\tvar amount = new BigNumber(value).times(\"1000000000000000000\");\n\t\tvar params = {\n\t\t\tserialNumber: options.serialNumber,\n\t\t\tgoods: options.goods,\n\t\t\tpay: {\n\t\t\t\tcurrency: currency,\n\t\t\t\tto: to,\n\t\t\t\tvalue: amount.toString(10),\n\t\t\t\tpayload: payload\n\t\t\t},\n\t\t\tcallback: options.callback,\n\t\t\tlistener: options.listener,\n\t\t\tnrc20: options.nrc20\n\t\t};\n\n\t\topenExtension(params);\n\t\topenApp(params, options);\n\n\t\treturn options.serialNumber;\n\t}\n};\n\nfunction openApp(params, options) {\n\tvar appParams = {\n\t\tcategory: \"jump\",\n\t\tdes: \"confirmTransfer\",\n\t\tpageParams: params\n\t};\n\tvar url = \"openapp.NASnano://virtual?params=\" + JSON.stringify(appParams);\n\twindow.location.href = url;\n}\n\nvar NAS = \"NAS\";\n\nvar NebPay = function NebPay(appKey, appSecret) {\n\tthis._pay = new Pay(appKey, appSecret);\n};\n\nvar defaultOptions = {\n\tgoods: {\n\t\tname: \"\",\n\t\tdesc: \"\",\n\t\torderId: \"\",\n\t\text: \"\"\n\t},\n\n\tcallback: config.payUrl,\n\n\tlistener: undefined,\n\n\tnrc20: undefined\n};\n\nNebPay.prototype = {\n\tpay: function pay(to, value, options) {\n\t\tvar payload = {\n\t\t\ttype: \"binary\"\n\t\t};\n\t\toptions = extend(defaultOptions, options);\n\t\treturn this._pay.submit(NAS, to, value, payload, options);\n\t},\n\tnrc20pay: function nrc20pay(currency, to, value, options) {\n\t\tif (options.nrc20 && options.nrc20.decimals > 0) {\n\t\t\tvalue = value || \"0\";\n\t\t\tvalue = new BigNumber(value).times(new BigNumber(10).pow(options.nrc20.decimals)).toString(10);\n\t\t}\n\t\tvar address = \"\";\n\t\tif (options.nrc20 && options.nrc20.address) {\n\t\t\taddress = options.nrc20.address;\n\t\t}\n\n\t\tvar args = [to, value];\n\t\tvar payload = {\n\t\t\ttype: \"call\",\n\t\t\tfunction: \"transfer\",\n\t\t\targs: JSON.stringify(args)\n\t\t};\n\t\toptions = extend(defaultOptions, options);\n\t\treturn this._pay.submit(currency, address, \"0\", payload, options);\n\t},\n\tdeploy: function deploy(source, sourceType, args, options) {\n\t\tvar payload = {\n\t\t\ttype: \"deploy\",\n\t\t\tsource: source,\n\t\t\tsourceType: sourceType,\n\t\t\targs: args\n\t\t};\n\t\toptions = extend(defaultOptions, options);\n\t\treturn this._pay.submit(NAS, \"\", \"0\", payload, options);\n\t},\n\tcall: function call(to, value, func, args, options) {\n\t\tvar payload = {\n\t\t\ttype: \"call\",\n\t\t\tfunction: func,\n\t\t\targs: args\n\t\t};\n\t\toptions = extend(defaultOptions, options);\n\t\treturn this._pay.submit(NAS, to, value, payload, options);\n\t},\n\tsimulateCall: function simulateCall(to, value, func, args, options) {\n\t\tvar payload = {\n\t\t\ttype: \"simulateCall\",\n\t\t\tfunction: func,\n\t\t\targs: args\n\t\t};\n\t\toptions = extend(defaultOptions, options);\n\t\treturn this._pay.submit(NAS, to, value, payload, options);\n\t},\n\tqueryPayInfo: function queryPayInfo(serialNumber) {\n\t\tvar url = config.payUrl + \"/query?payId=\" + serialNumber;\n\t\treturn http.get(url);\n\t}\n};\n\nmodule.exports = NebPay;\n\n\n//# sourceURL=webpack:///./node_modules/nebpay/lib/nebPay.js?");

/***/ })

/******/ });